(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[53],{6636:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(221),r=a.n(n),i=a(222),o=a(16),c=a(0),l=a.n(c),s=a(104),d=a(53),u=a(6299),m=a(208),p=a(193),b=a(198),y=a(213),f=a(329),x=a(107),h=a(6672),E=a(6681),g=a(458),v=a.n(g),w=a(54),O=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],j=[];function D(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),a=t[0],n=t[1],g=Object(c.useState)([]),D=Object(o.a)(g,2),M=(D[0],D[1],Object(c.useState)(3)),R=Object(o.a)(M,2),L=R[0],S=R[1];function T(){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(r.a.mark((function e(){var t,a,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:12,o.length>1&&void 0!==o[1]?o[1]:"3LsnGRHwCcW",o.length>2&&void 0!==o[2]?o[2]:null,n(!0),e.next=6,Promise.resolve(Object(w.c)().getDashboards());case 6:t=e.sent,(a=t.data.map((function(e){return{attributeSet:e.attributeSet.uid,attributes:e.attributes.map((function(e){return e.uid})),orgUnits:e.orgUnits.map((function(e){return e.uid}))}}))).forEach(function(){var e=Object(i.a)(r.a.mark((function e(i,o){var c,l,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Object(w.c)().getAgregatedData(i.attributeSet,i.attributes,i.orgUnits,"yearly"));case 2:c=e.sent,l={},c.data.headers.forEach((function(e){l[e.uid]={displayName:e.displayName,attribute:e.attribute}})),s=c.data.headers.map((function(e,t){return{label:e.displayName+" ("+e.attribute+")",name:O[t],value:c.data.values[e.uid]}})),j.push({title:t.data[o].displayName,attribute:"Rotas",type:t.data[o].component,data:s}),o>=a.length-1&&(n(!1),console.log(j));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){T()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{style:{padding:"7px 7px 7px 7px",width:"calc(100% - 14px)",borderRadius:"0px",zIndex:"50",textAlign:"center",position:"fixed",marginTop:"55px"}},l.a.createElement(d.a,{variant:"button",style:{textTransform:"none"}},"\xdaltim@s"),l.a.createElement("br",null),l.a.createElement(u.a,{disableElevation:!0,variant:"contained",color:"secondary"},l.a.createElement(m.a,{onClick:function(){S(3),T(12,"3LsnGRHwCcW",null)},variant:3==L?"contained":"outlined",style:{borderTopLeftRadius:"1.3em",borderBottomLeftRadius:"1.3em",minWidth:"75px",textTransform:"none"}},"Geral"),l.a.createElement(m.a,{onClick:function(){S(0),T(12,"3LsnGRHwCcW",{endDate:"".concat(Object(h.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(h.a)(Object(E.a)(new Date,1),"yyyy-MM-dd"))})},variant:0==L?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"24h"),l.a.createElement(m.a,{onClick:function(){S(1),T(12,"3LsnGRHwCcW",{endDate:"".concat(Object(h.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(h.a)(Object(E.a)(new Date,7),"yyyy-MM-dd"))})},variant:1==L?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"7 dias"),l.a.createElement(m.a,{onClick:function(){S(2),T(12,"6LJwkQzdlDS",{endDate:"".concat(Object(h.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(h.a)(Object(E.a)(new Date,30),"yyyy-MM-dd"))})},variant:2==L?"contained":"outlined",style:{borderTopRightRadius:"1.3em",borderBottomRightRadius:"1.3em",minWidth:"75px",textTransform:"none",borderLeft:"none"}},"30 dias"))),l.a.createElement("br",null),l.a.createElement(p.a,{color:"secondary",style:{position:"fixed",boxShadow:"none",zIndex:49,top:"127px",right:"0px",margin:"auto"}},l.a.createElement(x.i,null)),l.a.createElement("div",{style:{padding:"10px",marginTop:"107px"}},l.a.createElement("br",null),a?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(b.a,null)):l.a.createElement(y.a,{style:{width:"100%"}},!a&&j.map((function(e,t){return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(v.a,{option:k(e,e.type)}),l.a.createElement("ul",{key:t,style:{listStyle:"none"}},e.data.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(d.a,{key:t,variant:"button",style:{textTransform:"none"}},O[t],": ",e.label))}))),l.a.createElement("br",null),l.a.createElement(f.a,null),l.a.createElement("br",null))})))))}function k(e,t){return{title:{text:e.title,subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{data:e.data.map((function(e){return e.name}))},xAxis:{data:e.data.map((function(e){return e.name}))},yAxis:{},series:[{name:e.attribute,type:t,center:["50%","60%"],label:{show:!0,position:"top"},data:e.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}}]);
//# sourceMappingURL=53.b116b351.chunk.js.map