(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[43],{262:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(52);function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}},287:function(e,a,t){"use strict";var n=t(1),l=t(2),r=t(0),i=(t(6),t(4)),o=t(5),m=r.forwardRef((function(e,a){var t=e.classes,o=e.className,m=Object(l.a)(e,["classes","className"]);return r.createElement("div",Object(n.a)({className:Object(i.a)(t.root,o),ref:a},m))}));m.muiName="ListItemSecondaryAction",a.a=Object(o.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(m)},6685:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return R}));var n=t(262),l=t(76),r=t.n(l),i=t(83),o=t(12),m=t(0),c=t.n(m),s=t(13),d=t(223),u=t(224),p=t(59),h=t(227),f=t(222),y=t(212),E=t(231),g=t(204),v=t(114),b=t(165),O=t(199),x=t(157),N=t(201),j=t(287),C=t(229),W=t(6711),T=t(116),S=(t(265),t(264),t(31)),D=[],k=[],w=[],z=[],P=[],A={};function R(){var e=Object(m.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1],v=Object(m.useState)(!1),b=Object(o.a)(v,2),O=b[0],x=b[1],N=Object(m.useState)(""),j=Object(o.a)(N,2),W=j[0],R=j[1],I=Object(m.useState)(""),L=Object(o.a)(I,2),F=L[0],V=L[1];function B(){return(B=Object(i.a)(r.a.mark((function e(){var a,t,n,l,i,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(S.e)().getOptionSets(),Object(S.e)().getTypes(),Object(S.e)().getControls(),Object(S.e)().getValidationRules()]);case 2:a=e.sent,t=Object(o.a)(a,4),n=t[0],l=t[1],i=t[2],m=t[3],k=i.data,P=l.data,D=n.data,z=m.data;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){A[e.target.name]=e.target.value}function H(){return(H=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.sections=[],w.forEach((function(e,a){delete e.section,A.sections.push(Object(n.a)({},e,{order:a+1}))})),e.prev=2,e.next=5,Promise.resolve(Object(S.e)().postEntityForm(A));case 5:R("Entidade criada com exito!"),V("success"),x(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),R("Ocorreu um erro na tentativa de criar a entidade!"),V("error"),x(!0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Y(){if("success"==F)return c.a.createElement(s.a,{to:"/entidades"})}return Object(m.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]),c.a.createElement(d.a,null,c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(p.a,{variant:"h6",color:"initial"},"Create your organized entity form")),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:A.name,variant:"outlined",id:"name",onChange:J,margin:"dense",name:"name",fullWidth:!0,placeholder:"Name",label:"Name",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:A.displayName,variant:"outlined",id:"displayName",onChange:J,margin:"dense",name:"displayName",fullWidth:!0,placeholder:"DisplayName",label:"DisplayName",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:A.type,variant:"outlined",select:!0,id:"shortName",onChange:J,margin:"dense",name:"type",fullWidth:!0,placeholder:"Type",label:"Type",type:"text"},c.a.createElement(f.a,{value:"default"},"Default"),c.a.createElement(f.a,{value:"staged"},"Staged"))),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:A.description,variant:"outlined",multiline:!0,rows:4,id:"description",onChange:J,margin:"dense",name:"description",fullWidth:!0,placeholder:"Description",type:"text"})),c.a.createElement(u.a,{item:!0,sm:6},c.a.createElement(p.a,{variant:"button",color:"initial"},"Sections")),c.a.createElement(u.a,{item:!0,sm:6,style:{textAlign:"right",paddingBottom:"7px"}},c.a.createElement(y.a,{variant:"contained",size:"small",disableElevation:!0,onClick:function(){w.push({section:w.length+1,fields:[]}),l(!t)},color:"primary"},"Add section")),w.map((function(e,a){return c.a.createElement(u.a,{key:a,item:!0,sm:12},c.a.createElement(M,{fields:e.fields,id:e.section}))})),c.a.createElement(u.a,{item:!0,sm:12,style:{paddingTop:"15px",textAlign:"right"}},c.a.createElement(y.a,{disableElevation:!0,onClick:function(){return H.apply(this,arguments)},color:"primary",variant:"contained"},"Save"))),c.a.createElement(E.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},action:c.a.createElement(g.a,{size:"small","aria-label":"close",color:"inherit",onClick:Y},c.a.createElement(T.b,{fontSize:"small"})),open:O,autoHideDuration:3e3,onClose:Y},c.a.createElement(C.a,{severity:F},W)))}function M(e){var a=e.id,t=e.fields,n=Object(m.useState)(!1),l=Object(o.a)(n,2),r=l[0],i=l[1],s=Object(m.useState)(!1),d=Object(o.a)(s,2),f=d[0],E=d[1],g={entity:!0},O={},x={};function N(e){w.forEach((function(t,n){t.section==a&&(w[n][e.target.name]=e.target.value)}))}return c.a.createElement(v.a,{variant:"outlined",style:{padding:"12px",marginBottom:"25px"}},c.a.createElement(u.a,{container:!0,spacing:2},c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:g.name,variant:"outlined",error:O.name&&x.name,helperText:O.name,onChange:N,margin:"dense",name:"name",fullWidth:!0,placeholder:"Name",label:"Name",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:g.displayName,variant:"outlined",error:O.displayName&&x.displayName,helperText:O.displayName,onChange:N,margin:"dense",name:"displayName",fullWidth:!0,placeholder:"DisplayName",label:"DisplayName",type:"text"})),c.a.createElement(u.a,{item:!0,sm:6},c.a.createElement(p.a,{variant:"button",color:"initial"},"Fields")),c.a.createElement(u.a,{item:!0,sm:6,style:{textAlign:"right"}},c.a.createElement(y.a,{variant:"contained",size:"small",disableElevation:!0,onClick:function(){w.forEach((function(e,t){e.section==a&&(w[t].fields.push({order:w[t].fields.length+1,validationRules:[]}),i(!r))}))},color:"primary"},"Add Field"),"\xa0",c.a.createElement(y.a,{variant:"contained",size:"small",disableElevation:!0,onClick:function(){E(!0)},color:"primary"},"Add Validation Rule")),t.map((function(e,a){return c.a.createElement(u.a,{key:a,item:!0,sm:4},c.a.createElement(I,{field:e,id:e.field}))}))),c.a.createElement(b.a,{style:{top:"100px"},open:f,onClose:function(){E(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},c.a.createElement(L,null)))}function I(e){e.id;var a=e.field,t={},n={},l={},r=Object(m.useState)(!1),i=Object(o.a)(r,2),s=i[0],d=i[1];function p(e){a[e.target.name]=e.target.value}return c.a.createElement(v.a,{variant:"outlined",style:{padding:"10px"}},c.a.createElement(u.a,{container:!0,spacing:2},c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:t.name,variant:"outlined",error:n.name&&l.name,helperText:n.name,onChange:p,margin:"dense",name:"name",fullWidth:!0,placeholder:"Name",label:"Name",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:t.displayName,variant:"outlined",error:n.displayName&&l.displayName,helperText:n.displayName,onChange:p,margin:"dense",name:"displayName",fullWidth:!0,placeholder:"DisplayName",label:"DisplayName",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:t.displayName,variant:"outlined",select:!0,error:n.displayName&&l.control,helperText:n.displayName,onChange:p,margin:"dense",name:"control",fullWidth:!0,placeholder:"Select a control",label:"Control",type:"text"},k.map((function(e,a){return c.a.createElement(f.a,{key:1,value:e},e)})))),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(W.a,{onChange:function(e,t){a.type=t},fullWidth:!0,id:"type",size:"small",options:P,style:{minWidth:200},renderInput:function(e){return c.a.createElement(h.a,Object.assign({variant:"outlined",margin:"dense",fullWidth:!0},e,{label:"Type (*)"}))}})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(W.a,{onChange:function(e,t){a.optionSet=t},fullWidth:!0,id:"type",size:"small",getOptionLabel:function(e){return e.displayName},options:D,style:{minWidth:200},renderInput:function(e){return c.a.createElement(h.a,Object.assign({variant:"outlined",margin:"dense",fullWidth:!0},e,{label:"OptionSet (*)"}))}})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(W.a,{onChange:function(e,t){a.validationRules.push(t),d(!s)},fullWidth:!0,id:"validationRule",size:"small",getOptionLabel:function(e){return e.displayName},options:z,style:{minWidth:200},renderInput:function(e){return c.a.createElement(h.a,Object.assign({variant:"outlined",margin:"dense",fullWidth:!0},e,{label:"Validation Rules"}))}})),c.a.createElement(u.a,{item:!0,sm:12,style:{height:280,overflow:"auto"}},c.a.createElement(O.a,{dense:!0,component:"div",role:"list"},a.validationRules.map((function(e,a){return c.a.createElement(x.a,{onDoubleClick:function(e){},key:a,role:"listitem",button:!0},c.a.createElement(N.a,{primary:e.displayName}),c.a.createElement(j.a,null,c.a.createElement(g.a,{color:"secondary",size:"small",onClick:function(e){}},c.a.createElement(T.g,null))))})),c.a.createElement(x.a,null)))))}function L(){var e={},a={},t={};function n(e){}return c.a.createElement(d.a,null,c.a.createElement(v.a,{variant:"outlined",style:{padding:"10px"}},c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(p.a,{variant:"h6",color:"initial"},"Create a validation rule")),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:e.name,variant:"outlined",error:a.name&&t.name,helperText:a.name,onChange:n,margin:"dense",name:"name",fullWidth:!0,placeholder:"Type a regular expression",label:"Regular Expression",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:e.helperMessage,variant:"outlined",error:a.helperMessage&&t.helperMessage,helperText:a.helperMessage,onChange:n,margin:"dense",name:"helperMessage",fullWidth:!0,placeholder:"Type the error message",label:"Error message",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:e.test,variant:"outlined",error:a.name&&t.name,helperText:a.name,onChange:n,margin:"dense",name:"name",fullWidth:!0,placeholder:"Test your regular expression",label:"Test",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:e.name,variant:"outlined",error:a.name&&t.name,helperText:a.name,onChange:n,margin:"dense",name:"name",fullWidth:!0,placeholder:"Name",label:"Name",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{value:e.displayName,variant:"outlined",error:a.displayName&&t.displayName,helperText:a.displayName,onChange:n,margin:"dense",name:"displayName",fullWidth:!0,placeholder:"DisplayName",label:"DisplayName",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12},c.a.createElement(h.a,{multiline:!0,row:4,value:e.description,variant:"outlined",error:a.description&&t.description,helperText:a.description,onChange:n,margin:"dense",name:"description",fullWidth:!0,placeholder:"Description",label:"Description",type:"text"})),c.a.createElement(u.a,{item:!0,sm:12,style:{textAlign:"right",paddingTop:"20px"}},c.a.createElement(y.a,{color:"primary",disableElevation:!0,variant:"contained"},"Save")))))}}}]);
//# sourceMappingURL=43.1b8f8ecc.chunk.js.map