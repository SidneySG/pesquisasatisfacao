(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[23],{236:function(e,t,a){"use strict";var n=a(16),r=a(0),o=a.n(r),l=a(15),i=a(68),c=a(6642),d=a(457),u=a(104),s=a(192),m=a(213),b=a(53),p=a(148),h=a(151),f=a(157),g=a(149),v=a(6300),E=a(193),y=a(6640),x=a(6643),k=a(6644),O=a(6645),w=a(6646),C=a(6647),j=a(6676),S=a(101),D=a(206),P=a(6648),B=a(6682),R=a(194),N=a(188),F=a(146),T=a(290),z=a(303),q=a(329),W=a(208),I=a(107),V=a(6641),A=a(260),M=a(261),X=a.n(M);function H(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),l=a[0],i=a[1];function c(){var t=new X.a.Workbook,a=t.addWorksheet("Gest\xe3o de Servicos");return a.columns=e.colls.filter((function(e){return"k"!==e.id})).map((function(e){return e.editable?{header:e.label,key:e.id,width:25}:{header:e.label,key:e.id,width:15}})),e.tableData.map((function(t){var n={};e.colls.filter((function(e){return"k"!==e.id})).map((function(e){n[e.id]=e.id.split(".").length>1?t[e.id.split(".")[0]][e.id.split(".")[1]]:t[e.id]})),a.addRow(n)})),a.eachRow((function(e,t){e.eachCell((function(e,t){"true"===e.value&&(e.font={color:{argb:"FF008000"}}),"false"===e.value&&(e.font={color:{argb:"FFFF0000"}}),e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}))})),a.getRow(1).font={bold:!0},t}return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{title:"Transferir"},o.a.createElement(E.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",onClick:function(e){i(e.currentTarget)}},o.a.createElement(I.b,null))),o.a.createElement(S.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return i(null)}},o.a.createElement(D.a,{onClick:function(){c().xlsx.writeBuffer().then((function(e){Object(A.saveAs)(new Blob([e],{type:"application/octet-stream"}),"atendimento_export_"+(new Date).getTime()+".xlsx")})),i(null)}},o.a.createElement(V.a,null,o.a.createElement(I.d,null)),o.a.createElement(b.a,{variant:"inherit"},"Excel")),o.a.createElement(D.a,{onClick:function(){c().csv.writeBuffer().then((function(e){Object(A.saveAs)(new Blob([e],{type:"application/text"}),"atendimento_export_"+(new Date).getTime()+".csv")})),i(null)}},o.a.createElement(V.a,null,o.a.createElement(I.c,null)),o.a.createElement(b.a,{variant:"inherit"},"CSV"))))}var L={root:{width:"100%"},tableWrapper:{minWidth:"700px",overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},success:{backgroundColor:i.a[600]},error:{backgroundColor:"#d32f2f"},info:{backgroundColor:"#3f51b5"},warning:{backgroundColor:c.a[700]},icon:{fontSize:20},message:{display:"flex",alignItems:"center"},highlight:{color:"#f50057",backgroundColor:Object(l.e)("#ff4081",.85)},spacer:{flex:"1 1 100%"},actions:{color:"rgba(0, 0, 0, 0.54)"},title:{flex:"0 0 auto"}},Y={mouseX:null,mouseY:null},$=null;function _(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var G=[];function J(e){var t=e.order,a=e.orderBy,n=e.onRequestSort;e.t;return o.a.createElement(P.a,null,o.a.createElement(O.a,null,G.filter((function(e){return!1===e.hide})).map((function(e){return o.a.createElement(w.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},o.a.createElement(B.a,{active:a===e.id,direction:t,onClick:(r=e.id,function(e){n(e,r)})},o.a.createElement(y.a,{title:"order by ".concat(Boolean(e.hintText)?e.hintText:e.label)},o.a.createElement(b.a,{variant:"body2"},e.label))));var r}))))}function U(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),l=a[0],i=a[1],c=e.onRequestToogleColumn,d=Object(r.useState)(!1),s=Object(n.a)(d,2),p=s[0],h=s[1];var f=Boolean(l),g=f?"simple-popover":void 0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{title:"ocultar/mostrar colunas"},o.a.createElement(E.a,{"aria-describedby":g,onClick:function(e){i(e.currentTarget)}},o.a.createElement(I.j,null))),o.a.createElement(R.a,{id:g,open:f,anchorEl:l,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement(u.a,{square:!0},o.a.createElement(m.a,{style:{textAlign:"center",paddingTop:"10px"}},o.a.createElement(b.a,null,"Colunas")),o.a.createElement(N.a,{dense:!0},G.filter((function(e){return"k"!==e.id})).map((function(e,t){return o.a.createElement(F.a,{key:e.id},o.a.createElement(T.a,{control:o.a.createElement(z.a,{style:{padding:"5px"},checked:!e.hide,onChange:function(){return function(e){G=G.map((function(t){return t.id===e&&(t.hide=!t.hide),t})),h(!p)}(e.id)},value:t,color:"primary"}),label:e.label}))}))),o.a.createElement(q.a,null),o.a.createElement(W.a,{onClick:function(e){h(!p),c(e),i(null)},color:"primary",style:{width:"100%"},small:!0},"Apply"))))}t.a=function(e,t){var a=Object(r.useState)(!1),l=Object(n.a)(a,2),i=l[0],c=l[1],P=Object(r.useState)("asc"),B=Object(n.a)(P,2),R=B[0],N=B[1],F=Object(r.useState)("k"),T=Object(n.a)(F,2),z=T[0],q=T[1],W=Object(r.useState)([]),V=Object(n.a)(W,2),A=V[0],M=V[1],X=Object(r.useState)(0),K=Object(n.a)(X,2),Q=K[0],Z=K[1],ee=Object(r.useState)(!0),te=Object(n.a)(ee,2),ae=te[0],ne=(te[1],Object(r.useState)(7)),re=Object(n.a)(ne,2),oe=re[0],le=re[1],ie=Object(r.useState)(!1),ce=Object(n.a)(ie,2),de=ce[0],ue=ce[1],se=Object(r.useState)(""),me=Object(n.a)(se,2),be=me[0],pe=me[1],he=Object(r.useState)(!1),fe=Object(n.a)(he,2),ge=fe[0],ve=fe[1],Ee=Object(r.useState)(Y),ye=Object(n.a)(Ee,2),xe=ye[0],ke=ye[1];Object(r.useEffect)((function(){e.headCells.map((function(e,t){return{i:t,hide:e.hide}})),G=e.headCells,ve(!ge)}),[]);var Oe=oe-Math.min(oe,e.tableData.length-Q*oe);return o.a.createElement("div",{className:L.root},o.a.createElement(d.a,{color:"secondary",variant:"query",style:{display:i?"block":"none"}}),o.a.createElement(u.a,{elevation:0,style:{minWidth:"700px",overflowX:"auto",backgroundColor:"transparent"}},o.a.createElement(s.a,{style:{padding:"0px"}},o.a.createElement(m.a,{display:"flex",width:"100%"},o.a.createElement(m.a,null,!de&&o.a.createElement(b.a,{variant:"h6",id:"tableTitle"},e.tableName),de&&o.a.createElement(p.a,{in:de},o.a.createElement(h.a,{style:{paddingLeft:"15px"}},o.a.createElement(f.a,{htmlFor:"query-param",style:{paddingLeft:"17px"}},"Procurar"),o.a.createElement(g.a,{id:"query-param",value:be,onChange:function(e){return pe(e.target.value)},endAdornment:o.a.createElement(v.a,{position:"end"},o.a.createElement(E.a,{onClick:function(){return ue(!1)},"aria-label":"query-param"},o.a.createElement(I.a,null)))})))),o.a.createElement(m.a,{flexGrow:1},"\xa0"),o.a.createElement(m.a,null,o.a.createElement(y.a,{title:"Procurar"},o.a.createElement(E.a,{onClick:function(){return ue(!de)},"aria-label":"filter list"},o.a.createElement(I.e,null))),o.a.createElement(U,{onRequestToogleColumn:function(e){ve(!ge)}}),o.a.createElement(H,{colls:e.headCells,tableData:e.tableData})))),o.a.createElement("div",{className:L.tableWrapper},o.a.createElement(x.a,{"aria-labelledby":"tableTitle",size:ae?"small":"medium"},o.a.createElement(J,{onRequestTriggerUpdate:function(e){c(!0),c(!1)},classes:L,numSelected:A.length,order:R,orderBy:z,onRequestSort:function(e,t){N(z===t&&"desc"===R?"asc":"desc"),q(t)},rowCount:e.tableData.length}),o.a.createElement(k.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(e.tableData.filter((function(t){var a=!1;return e.headCells.filter((function(e){return!1===e.hide})).map((function(e){Boolean(t[e.id])&&t[e.id].toString().toLowerCase().includes(be.toLowerCase())&&(a=!0)})),a})),function(e,t){return"desc"===e?function(e,a){return _(e,a,t)}:function(e,a){return-_(e,a,t)}}(R,z)).slice(Q*oe,Q*oe+oe).map((function(t,a){var n,r=(n=a,-1!==A.indexOf(n)),l="enhanced-table-checkbox-".concat(a);return o.a.createElement(O.a,{hover:!0,onContextMenu:function(a){var n;Boolean(e.actions)&&($=t,(n=a).preventDefault(),ke({mouseX:n.clientX-2,mouseY:n.clientY-4}))},onClick:function(e){return function(e,t){var a=A.indexOf(t),n=[];-1===a?n=n.concat(A,t):0===a?n=n.concat(A.slice(1)):a===A.length-1?n=n.concat(A.slice(0,-1)):a>0&&(n=n.concat(A.slice(0,a),A.slice(a+1))),M(n)}(0,a)},role:"checkbox","aria-checked":r,tabIndex:-1,key:a,selected:r},G.filter((function(e){return!1===e.hide})).map((function(e){return o.a.createElement(w.a,{component:"th",key:e.id,id:l,scope:"row"},e.id.split(".").length>1?t[e.id.split(".")[0]][e.id.split(".")[1]]:t[e.id])})))})),Oe>0&&o.a.createElement(O.a,{style:{height:49*Oe}},o.a.createElement(w.a,{colSpan:6}))),o.a.createElement(C.a,null,o.a.createElement(O.a,null,o.a.createElement(j.a,{rowsPerPageOptions:[5,7,10,20,25,100],count:e.tableData.length,rowsPerPage:oe,page:Q,backIconButtonProps:{"aria-label":e.tablePaginationPrevious},nextIconButtonProps:{"aria-label":e.tablePaginationNext},onChangePage:function(e,t){Z(t)},onChangeRowsPerPage:function(e){le(+e.target.value),Z(0)}})))))),Boolean(e.actionHandlers)&&o.a.createElement(S.a,{keepMounted:!0,open:null!==xe.mouseY,onClose:function(){ke(Y)},anchorReference:"anchorPosition",anchorPosition:null!==xe.mouseY&&null!==xe.mouseX?{top:xe.mouseY,left:xe.mouseX}:void 0},e.actions.map((function(t,a){return o.a.createElement(D.a,{key:a,onClick:function(){ke(Y),e.actionHandlers[t.handler]($)}},t.label)}))))}},267:function(e,t,a){"use strict";var n=a(2),r=a(1),o=a(0),l=(a(6),a(3)),i=a(5),c=a(75),d=a(7),u=o.forwardRef((function(e,t){var a=e.children,i=e.classes,u=e.className,s=e.color,m=void 0===s?"default":s,b=e.component,p=void 0===b?"button":b,h=e.disabled,f=void 0!==h&&h,g=e.disableFocusRipple,v=void 0!==g&&g,E=e.focusVisibleClassName,y=e.size,x=void 0===y?"large":y,k=e.variant,O=void 0===k?"round":k,w=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return o.createElement(c.a,Object(r.a)({className:Object(l.a)(i.root,u,"round"!==O&&i.extended,"large"!==x&&i["size".concat(Object(d.a)(x))],f&&i.disabled,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[m]),component:p,disabled:f,focusRipple:!v,focusVisibleClassName:Object(l.a)(i.focusVisible,E),ref:t},w),o.createElement("span",{className:i.label},a))}));t.a=Object(i.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},428:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(245),r=a(0),o=a.n(r);function l(){var e=Object(n.a)(["\nborder-radius: 8px;\nplace-content: left;\ndisplay: grid;\ncolor: white;\ncursor: pointer;\n//max-width: 50vw;\nbox-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);\nbackground-color: #551a8b;\npadding: 20px;\n"]);return l=function(){return e},e}var i=a(243).a.div(l());function c(e){var t=e.backgroundColor,a=void 0===t?"#551a8b":t,n=e.placeContent,r=void 0===n?"center":n,l=e.color,c=void 0===l?"white":l,d=e.children;return o.a.createElement(i,{style:{backgroundColor:a,placeContent:r,color:c}},d)}},6650:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(221),r=a.n(n),o=a(222),l=a(16),i=a(0),c=a.n(i),d=a(11),u=a(29),s=a(267),m=a(213),b=a(53),p=a(186),h=a(54),f=a(236),g=(a(428),[]),v=Object(p.a)((function(e){return{containerBox:{transition:"width .3s"}}}));function E(){var e=v(),t=Object(i.useState)(!0),a=Object(l.a)(t,2),n=a[0],p=a[1],E=Object(i.useState)(!1),k=Object(l.a)(E,2),O=k[0],w=k[1],C=Object(i.useState)(""),j=Object(l.a)(C,2),S=j[0],D=j[1],P=Object(i.useState)(!1),B=Object(l.a)(P,2),R=B[0],N=B[1];Object(i.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Object(h.c)().getEntities());case 2:g=(g=e.sent).data,p(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var F={listarDados:function(e){D("/entityValueSetData/"+btoa(e.id)),N(!0)},listarFormularios:function(e){console.log("listar formularios: ".concat(e))},eliminar:function(e){console.log(e.id)},editar:function(e){console.log("editar: ".concat(e))},detalhes:function(e){w(!0)}};return R?c.a.createElement(d.a,{to:S}):c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{component:u.b,to:"/entidades/adicionar",variant:"extended",size:"medium",style:{position:"fixed",boxShadow:"none",bottom:"20px",right:"20px"},color:"primary"},"Adicionar"),c.a.createElement(m.a,{display:"flex"},c.a.createElement(m.a,{flexGrow:1,className:e.containerBox},!n&&c.a.createElement(f.a,{tableName:"Entidades",actionHandlers:F,actions:x,headCells:y,tableData:g})),c.a.createElement(m.a,{className:e.containerBox,style:{width:O?"250px":"0px",paddingLeft:"15px"}},c.a.createElement("div",{style:{display:O?"block":"none"}},c.a.createElement(b.a,{variant:"h6",color:"initial"},"Detalhes")))))}var y=[{label:"UID",numeric:!1,disablePadding:!1,id:"id",editable:!1,hide:!1},{label:"Name",id:"name",numeric:!1,disablePadding:!1,editable:!1,hide:!1},{label:"Display Name",numeric:!1,disablePadding:!1,id:"displayName",editable:!1,hide:!1}],x=[{label:"Listar Dados",handler:"listarDados"},{label:"Formularios",handler:"listarFormularios"},{label:"Eliminar",handler:"eliminar"},{label:"Editar",handler:"editar"},{label:"Detalhes",handler:"detalhes"}]}}]);
//# sourceMappingURL=23.0f81e38b.chunk.js.map