(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[53],{6636:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return k}));var n=a(221),r=a.n(n),i=a(222),o=a(16),c=a(0),u=a.n(c),s=a(104),l=a(53),d=a(6299),m=a(208),p=a(193),b=a(198),f=a(213),y=a(329),h=a(107),x=a(6672),g=a(6681),E=a(458),v=a.n(E),O=a(54),j=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],w=[],D=[];function k(){var t=Object(c.useState)(!0),e=Object(o.a)(t,2),a=e[0],n=e[1],E=Object(c.useState)([]),k=Object(o.a)(E,2),S=(k[0],k[1],Object(c.useState)(3)),T=Object(o.a)(S,2),R=T[0],N=T[1];function A(){return(A=Object(i.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),w=[],D=[],t.next=5,Promise.resolve(Object(O.c)().getDashboards());case 5:e=t.sent,(w=e.data.map((function(t){return{attributeSet:t.attributeSet.uid,attributes:t.attributes.map((function(t){return t.uid})),orgUnits:t.orgUnits.map((function(t){return t.uid}))}}))).forEach(function(){var t=Object(i.a)(r.a.mark((function t(a,i){var o,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve(Object(O.c)().getAgregatedData(a.attributeSet,a.attributes,a.orgUnits,"yearly"));case 2:o=t.sent,c={},o.data.headers.forEach((function(t){c[t.uid]={displayName:t.displayName,attribute:t.attribute}})),u=o.data.headers.map((function(t,e){return{label:t.displayName+" ("+t.attribute+")",name:j[e],value:o.data.values[t.uid]}})),D.push({title:e.data[i].displayName,attribute:"Rotas",type:e.data[i].component,data:u}),i>=w.length-1&&(n(!1),console.log(D));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(r.a.mark((function t(){var e,a,o=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:null,n(!0),w=[],D=[],t.next=6,Promise.resolve(Object(O.c)().getDashboards());case 6:a=t.sent,(w=a.data.map((function(t){return{attributeSet:t.attributeSet.uid,attributes:t.attributes.map((function(t){return t.uid})),orgUnits:t.orgUnits.map((function(t){return t.uid}))}}))).forEach(function(){var t=Object(i.a)(r.a.mark((function t(i,o){var c,u,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve(Object(O.c)().getAgregatedData(i.attributeSet,i.attributes,i.orgUnits,"yearly",e));case 2:c=t.sent,u={},c.data.headers.forEach((function(t){u[t.uid]={displayName:t.displayName,attribute:t.attribute}})),s=c.data.headers.map((function(t,e){return{label:t.displayName+" ("+t.attribute+")",name:j[e],value:c.data.values[t.uid]}})),D.push({title:a.data[o].displayName,attribute:"Rotas",type:a.data[o].component,data:s}),o>=w.length-1&&(n(!1),console.log(D));case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){D=[],function(){A.apply(this,arguments)}()}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(s.a,{style:{padding:"7px 7px 7px 7px",width:"calc(100% - 14px)",borderRadius:"0px",zIndex:"50",textAlign:"center",position:"fixed",marginTop:"55px"}},u.a.createElement(l.a,{variant:"button",style:{textTransform:"none"}},"\xdaltim@s"),u.a.createElement("br",null),u.a.createElement(d.a,{disableElevation:!0,variant:"contained",color:"secondary"},u.a.createElement(m.a,{onClick:function(){N(3),U(null)},variant:3==R?"contained":"outlined",style:{borderTopLeftRadius:"1.3em",borderBottomLeftRadius:"1.3em",minWidth:"75px",textTransform:"none"}},"Geral"),u.a.createElement(m.a,{onClick:function(){N(0),U({endDate:"".concat(Object(x.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(x.a)(Object(g.a)(new Date,1),"yyyy-MM-dd"))})},variant:0==R?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"24h"),u.a.createElement(m.a,{onClick:function(){N(1),U({endDate:"".concat(Object(x.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(x.a)(Object(g.a)(new Date,7),"yyyy-MM-dd"))})},variant:1==R?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"7 dias"),u.a.createElement(m.a,{onClick:function(){N(2),U({endDate:"".concat(Object(x.a)(new Date,"yyyy-MM-dd")),startDate:"".concat(Object(x.a)(Object(g.a)(new Date,30),"yyyy-MM-dd"))})},variant:2==R?"contained":"outlined",style:{borderTopRightRadius:"1.3em",borderBottomRightRadius:"1.3em",minWidth:"75px",textTransform:"none",borderLeft:"none"}},"30 dias"))),u.a.createElement("br",null),u.a.createElement(p.a,{color:"secondary",style:{position:"fixed",boxShadow:"none",zIndex:49,top:"127px",right:"0px",margin:"auto"}},u.a.createElement(h.i,null)),u.a.createElement("div",{style:{padding:"10px",marginTop:"107px"}},u.a.createElement("br",null),a?u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement(b.a,null)):u.a.createElement(f.a,{style:{width:"100%"}},!a&&D.map((function(t,e){return u.a.createElement(u.a.Fragment,{key:e},u.a.createElement(v.a,{option:M(t,t.type)}),u.a.createElement("ul",{key:e,style:{listStyle:"none"}},t.data.map((function(t,e){return u.a.createElement("li",{key:e},u.a.createElement(l.a,{key:e,variant:"button",style:{textTransform:"none"}},j[e],": ",t.label))}))),u.a.createElement("br",null),u.a.createElement(y.a,null),u.a.createElement("br",null))})))))}function M(t,e){return{title:{text:t.title,subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{data:t.data.map((function(t){return t.name}))},xAxis:{data:t.data.map((function(t){return t.name}))},yAxis:{},series:[{name:t.attribute,type:e,center:["50%","60%"],label:{show:!0,position:"top"},data:t.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}}]);
//# sourceMappingURL=53.a78eb51e.chunk.js.map