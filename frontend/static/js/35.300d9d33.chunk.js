(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[35],{145:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return u}));var o=n(180),a=n.n(o);function c(){return window.location.origin.includes("localhost")?"http://localhost:8000":window.location.origin}var i=c()+"/api",r={headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};function u(){return{getOrganisationUnits:function(){return a.a.get("".concat(i,"/orgUnits"),r)},getOrgUnitVisibilities:function(){return a.a.get("".concat(i,"/orgUnitVisibilities"),r)},deleteOrgUnitByID:function(t){return a.a.delete("".concat(i,"/orgUnits/").concat(t),r)},getFieldsBySeccionId:function(t){return a.a.get("".concat(i,"/fieldsBysectionID?section_id=").concat(t),r)},getFormByID:function(t){return a.a.get("".concat(i,"/forms?id=").concat(t),r)},getForms:function(){return a.a.get("".concat(i,"/forms"),r)},postQuickForm:function(t){return a.a.post("".concat(i,"/quickForm"),t,r)},postForm:function(t){return a.a.post("".concat(i,"/forms"),t,r)},getFormByOrgUnit:function(t){return a.a.get("".concat(i,"/forms?attribute_set.org_units.id=").concat(t),r)},getFormSectionsByFormID:function(t){return a.a.get("".concat(i,"/sectionsByFormID?form_id=").concat(t),r)},getEntityByID:function(t){return a.a.get("".concat(i,"/entities?id=").concat(t),r)},getEntities:function(t){return a.a.get("".concat(i,"/entities"),r)},getEntityFormsByID:function(t){return a.a.get("".concat(i,"/entityForms?id=").concat(t),r)},getEntityFormsByEntityID:function(t){return a.a.get("".concat(i,"/entityForms?entity__id=").concat(t),r)},getEntityForms:function(){return a.a.get("".concat(i,"/entityForms"),r)},postEntityForm:function(t){return a.a.post("".concat(i,"/entityForms"),t,r)},getEntityDependencies:function(t){return a.a.get("".concat(i,"/entities-depemdencies/").concat(t),r)},getSectionsByIDs:function(t){return a.a.get("".concat(i,"/sections?").concat(t.map((function(t){return"id_in=".concat(t)})).join("&")),r)},getCircleByPoint:function(t,e){return a.a.get("".concat(i,"/getCircleByPoint?lat=").concat(t,"&lng=").concat(e),r)},getOrgUnitsWithinRadius:function(t,e){return a.a.get("".concat(i,"/orgUnitsWithinRadius?lat=").concat(t,"&lng=").concat(e,"&radius=100"),r)},postOrganisationUnitsProximity:function(t){return a.a.post("".concat(i,"/orgUnitsProximity"),t,r)},getOrganisationUnitsByIDs:function(t){return a.a.get("".concat(i,"/orgUnits?orgUnitType=Institui\xe7\xe3o&").concat(t.map((function(t){return"id__in=".concat(t)})).join("&")),r)},getOrganisationUnitByID:function(t){return a.a.get("".concat(i,"/orgUnits?id=").concat(t),r)},postOrganisationUnits:function(t){return a.a.post("".concat(i,"/orgUnits"),t,r)},getOrganisationUnitTypes:function(){return a.a.get("".concat(i,"/orgUnitTypes"),r)},getOrganisationUnitLevels:function(){return a.a.get("".concat(i,"/orgUnitLevels"),r)},getValueTypes:function(){return a.a.get("".concat(i,"/types"),r)},getCategoryCombos:function(){return a.a.get("".concat(i,"/categoryCombos"),r)},getCategoryCombosByFilter:function(t){return a.a.get("".concat(i,"/categoryCombos?").concat(t),r)},getCategoryComboCategories:function(){return a.a.get("".concat(i,"/categoryComboCategories"),r)},getOptionSets:function(){return a.a.get("".concat(i,"/optionSets"),r)},getOptions:function(){return a.a.get("".concat(i,"/options"),r)},postOptions:function(t){return a.a.post("".concat(i,"/options"),t,r)},getSections:function(){return a.a.get("".concat(i,"/sections"),r)},postSection:function(t){return a.a.post("".concat(i,"/sections"),t,r)},postStage:function(t){return a.a.post("".concat(i,"/stages"),t,r)},postAttributeValueSet:function(t){return a.a.post("".concat(i,"/valueSets"),t,r)},deleteAttributeSetByID:function(t){return a.a.delete("".concat(i,"/attributeSets/").concat(t),r)},deleteFormByID:function(t){return a.a.delete("".concat(i,"/forms/").concat(t),r)},getValueSets:function(){return a.a.get("".concat(i,"/valueSets"),r)},getSimpleValueSets:function(t){return a.a.get("".concat(i,"/simple_value_sets?attributeSet__id=").concat(t),r)},getValueSetByID:function(t){return a.a.get("".concat(i,"/valueSets?id=").concat(t),r)},getValueSetByAttributeSetID:function(t){return a.a.get("".concat(i,"/valueSets?attributeSet__id=").concat(t),r)},getEntityValueSetsByEntityID:function(t){return a.a.get("".concat(i,"/entityValueSets?entity__id=").concat(t),r)},postEntityValueSet:function(t){return a.a.post("".concat(i,"/entityValueSets"),t,r)},getAttributeValueSets:function(t){return a.a.get("".concat(i,"/attributeValueSets?attributeSet__id=").concat(t),r)},getAttributeValueSet:function(t){return a.a.get("".concat(i,"/attributeValueSets/").concat(t),r)},getStages:function(){return a.a.get("".concat(i,"/stages"),r)},getStage:function(t){return a.a.get("".concat(i,"/stages/").concat(t),r)},getCategories:function(){return a.a.get("".concat(i,"/categories"),r)},getCategoryOptions:function(){return a.a.get("".concat(i,"/categoryOptions"),r)},postAttributeSets:function(t){return a.a.post("".concat(i,"/attributeSets"),t,r)},getAttributeSet:function(){return a.a.get("".concat(i,"/attributeSets"),r)},getAttributeSetById:function(t){return a.a.get("".concat(i,"/attributeSets/").concat(t),r)},getAttributeSetByOrgUnit:function(t){return a.a.get("".concat(i,"/attributeSets?orgUnits__id=").concat(t),r)},getAttributeSetDependencies:function(t){return a.a.get("".concat(i,"/attributeSetDepemdencies/").concat(t),r)},postAttributes:function(t){return a.a.post("".concat(i,"/attributes"),t,r)},getAttributes:function(){return a.a.get("".concat(i,"/attributes"),r)},getDataDimensionTypes:function(){return a.a.get("".concat(i,"/dataDimensionTypes"),r)},getTypes:function(){return a.a.get("".concat(i,"/types"),r)},getControls:function(){return a.a.get("".concat(i,"/controls"),r)},getPeriodTypes:function(){return a.a.get("".concat(i,"/periodTypes"),r)},getValidationRules:function(){return a.a.get("".concat(i,"/validationRules"),r)},postValidationRules:function(t){return a.a.post("".concat(i,"/validationRules"),t,r)},postCategoryCombos:function(t){return a.a.post("".concat(i,"/categoryCombos"),t,r)},postCategory:function(t){return a.a.post("".concat(i,"/categories"),t,r)},postCategoryOptions:function(t){return a.a.post("".concat(i,"/categoryOptions"),t,r)},postOptionSets:function(t){return a.a.post("".concat(i,"/optionSets"),t,r)},getCategoryCombosIN:function(t){return a.a.get("".concat(i,"/categoryCombos?").concat(t),r)},getOptionSetsIN:function(t){return a.a.get("".concat(i,"/optionSets?").concat(t),r)},getCategoriesIN:function(t){return a.a.get("".concat(i,"/categories?").concat(t),r)},getCategoryComboCategoriesIN:function(t){return a.a.get("".concat(i,"/category-combo-categories?").concat(t),r)}}}},6119:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return F}));var o=n(153),a=n.n(o),c=n(205),i=n(160),r=n(23),u=n(0),s=n.n(u),g=n(227),l=n(228),p=n(244),f=n(6075),d=n(75),m=n(136),y=n(133),b=n(256),S=n(145),O=[],C={lat:-25.966871222103318,lng:32.58566014617944},v=[],E={lat:-25.953724,lng:32.588711},h={height:"450px",width:"100%"},j={fillColor:"#2196F3",strokeColor:"#2196F3",fillOpacity:.5,strokeOpacity:1,strokeWeight:2,clickable:!1,draggable:!1,editable:!1,geodesic:!1,zIndex:1},I={fillColor:"#2196F3",strokeColor:"#2196F3",fillOpacity:.5,strokeOpacity:1,strokeWeight:2,clickable:!1,draggable:!1,editable:!1,geodesic:!1,zIndex:1};function F(){var t,e,n=Object(u.useState)(0),o=Object(r.a)(n,2),F=o[0],B=o[1],U=Object(u.useState)(0),k=Object(r.a)(U,2),D=k[0],w=k[1],_=Object(u.useState)(!0),V=Object(r.a)(_,2),A=V[0],x=(V[1],Object(u.useState)(!1)),P=Object(r.a)(x,2),T=P[0],L=P[1],R=s.a.useState({drawingMode:"polygon"}),W=Object(r.a)(R,2),z=(W[0],W[1]);Object(u.useEffect)((function(){!function(){H.apply(this,arguments)}()}),[]);var N=function(t){};function M(){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(a.a.mark((function t(){var e,n,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Object(S.c)().getOrganisationUnits()]);case 2:e=t.sent,n=Object(r.a)(e,1),o=n[0],O=o.data.filter((function(t){return Boolean(t.coordinates)})),L(!T);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(i.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve(Object(S.c)().getCircleByPoint(e.lat,e.lng));case 2:n=t.sent,v=n.data,L(!T);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.geolocation?navigator.geolocation.getCurrentPosition(Q):alert("Este dispositivo nao suporta a geolocalizacao");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t){return C={lng:t.coords.longitude,lat:t.coords.latitude},B(t.coords.latitude),w(t.coords.longitude),function(t){q.apply(this,arguments)}(C),M(),{lng:t.coords.longitude,lat:t.coords.latitude}}return s.a.createElement(g.a,null,s.a.createElement("br",null),s.a.createElement(l.a,{container:!0,spacing:2},s.a.createElement(l.a,{item:!0,sm:6},s.a.createElement(p.a,(t={variant:"outlined",margin:"dense",value:F,id:"lat",label:"Latitude"},Object(c.a)(t,"value",F),Object(c.a)(t,"fullWidth",!0),Object(c.a)(t,"onChange",(function(t){B(t.target.value)})),t))),s.a.createElement(l.a,{item:!0,sm:6},s.a.createElement(p.a,(e={variant:"outlined",margin:"dense",value:D,id:"lng",label:"Longitude"},Object(c.a)(e,"value",D),Object(c.a)(e,"fullWidth",!0),Object(c.a)(e,"onChange",(function(t){w(t.target.value)})),e))),s.a.createElement(l.a,{item:!0,sm:12},s.a.createElement(f.a,{disableElevation:!0,variant:"contained"},"Redesenhar circulo"),"\xa0 \xa0",s.a.createElement(f.a,{onClick:M,disableElevation:!0,variant:"contained"},"Carregar Instituicoes"),"\xa0\xa0",s.a.createElement(f.a,{disableElevation:!0,variant:"contained"},"Localiza\xe7\xe3o corrente")),O.map((function(t){return s.a.createElement(l.a,{key:t.id,item:!0,sm:12},JSON.stringify(t))})),s.a.createElement(l.a,{item:!0,sm:12},s.a.createElement(d.a,{variant:"outlined",style:{minHeight:"450px"}},A?s.a.createElement(b.c,{libraries:["drawing","places"],id:"script-loader"},s.a.createElement(b.b,{id:"example-map",mapContainerStyle:h,draggable:!0,zoom:13,center:E},O.map((function(t){return s.a.createElement(b.e,{key:t.id,onLoad:N,paths:t.coordinates,options:j})})),s.a.createElement(b.e,{onLoad:N,paths:v,options:I}),s.a.createElement(b.d,{position:{lat:F,lng:D}}),s.a.createElement(b.a,{drawingMode:"polygon",options:{drawingControl:!0,drawingControlOptions:{drawingModes:["polygon"]},polygonOptions:{fillColor:"#2196F3",strokeColor:"#2196F3",fillOpacity:.5,strokeWeight:2,clickable:!0,editable:!0,draggable:!0,zIndex:1}},onPolygonComplete:function(t){t.getPath().getArray().map((function(t){return{lat:t.lat(),lng:t.lng()}}));z((function(t){return Object.assign({},t,{drawingMode:"maker"})}))}}))):s.a.createElement(m.a,{style:{textAlign:"center",marginTop:"220px"}},s.a.createElement(y.a,null))))))}}}]);
//# sourceMappingURL=35.300d9d33.chunk.js.map