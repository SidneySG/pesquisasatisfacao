(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[47],{6142:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return I}));var n=t(227),r=t(209),l=t.n(r),i=t(210),o=t(24),c=t(0),d=t.n(c),u=t(175),m=t(19),s=t(11),p=t(52),g=t(103),b=t(193),E=t(201),h=t(195),v=t(200),f=t(256),y=t(245),x=t(261),S=t(257),j=t(249),B=t(205),O=t(226),w=t(264),C=t(265),k=t(266),T=t(298),N=t(6090),D=t(194),F=t(73),V=(t(252),t(213)),A=t(212),L=Object(u.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},img:{margin:"auto",height:320,display:"block",maxWidth:400,overflow:"hidden",width:"auto"},dots:{paddingTop:15,margin:"-10px auto"},dotsMobile:{paddingTop:0},dotsMobileLandscape:{paddingTop:20},inputExcel:{"&:hover":{borderRadius:"0px"}}}})),W=null,R=null;function I(){L(),Object(m.a)();var e=Object(c.useState)(0),a=Object(o.a)(e,2),t=a[0],r=(a[1],Object(c.useState)(0)),u=Object(o.a)(r,2),I=(u[0],u[1],Object(c.useState)(!1)),M=Object(o.a)(I,2),J=M[0],P=M[1],q=Object(c.useState)({}),U=Object(o.a)(q,2),Y=U[0],$=U[1],z=Object(c.useState)({}),G=Object(o.a)(z,2),H=G[0],K=G[1],Q=Object(c.useState)(!1),X=Object(o.a)(Q,2),Z=X[0],_=X[1],ee=Object(c.useState)(!1),ae=Object(o.a)(ee,2),te=ae[0],ne=ae[1];function re(){return(re=Object(i.a)(l.a.mark((function e(){var a,t,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.location.href.split("/"),a=atob(a[a.length-1]),W=null,e.next=5,Promise.resolve(Object(F.c)().getValueSetByID(a));case 5:return t=e.sent,r={},t.data[0].attributeValues.forEach((function(e){r[e.attribute]=e.value})),console.log(r),K(Object(n.a)({},r)),e.next=12,Promise.resolve(Object(F.c)().getAttributeSetById(t.data[0].attributeSet.id));case 12:i=e.sent,console.log(i.data),R=i.data,$(i.data);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){re.apply(this,arguments)}()}),[]);var le=function(){_(!1),P(!0)};return J?d.a.createElement(s.a,{to:"/?success=true"}):d.a.createElement("div",null,Boolean(Y.attributes)&&d.a.createElement(d.a.Fragment,null,d.a.createElement(V.b,{initialValues:H,onSubmit:function(e,a){var n=a.setSubmitting;function r(){return(r=Object(i.a)(l.a.mark((function e(a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(a).map((function(e){return{attribute:{id:Number.parseInt(e)},orgUnit:{id:W},period:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth(),"-").concat((new Date).getDate()),value:Array.isArray(a[e])?a[e].join(","):a[e]}})),r={attributeSet:{id:Y.id},attributeValues:n,orgUnit:{id:W},domainType:"sdf",period:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth(),"-").concat((new Date).getDate())},Boolean(t)&&(r.entityValueSet={id:t}),e.next=5,Promise.resolve(Object(F.c)().postAttributeValueSet(JSON.stringify(r)));case 5:_(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){r.apply(this,arguments)}(e),setTimeout((function(){n(!1)}),500)}},(function(e){var a=e.values,t=e.touched,n=e.errors,r=(e.dirty,e.isSubmitting,e.handleChange),l=e.handleBlur,i=(e.handleSubmit,e.handleReset,e.setFieldValue);return d.a.createElement(V.a,null,Boolean(R)&&d.a.createElement("div",null,d.a.createElement("div",{style:{padding:"6px"}},d.a.createElement(p.a,{variant:"h5",gutterBottom:!0},R.displayName),d.a.createElement(p.a,{variant:"body2"},R.description)),d.a.createElement("br",null)),d.a.createElement(g.a,{variant:"outlined",style:{margin:"-20px 10px 10px 10px",border:"0px solid #fff",padding:"20px 0px",borderRadius:"8px",boxShadow:"0 1px 6px rgba(32, 33, 36, 0.28)"}},d.a.createElement(b.a,null,d.a.createElement(E.a,null,d.a.createElement(E.a,null,d.a.createElement(h.a,{container:!0,spacing:2},R.attributes.map((function(e){return e.optionSet.options.length>0?"radio"==e.control.toLowerCase()?d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(g.a,{variant:"outlined",elevation:0,style:{padding:"7px",margin:"auto"}},d.a.createElement(p.a,{variant:"body1",gutterBottom:!0},e.displayName),d.a.createElement(p.a,{variant:"body2",gutterBottom:!0},e.displayName),d.a.createElement(v.a,{component:"fieldset"},d.a.createElement(f.a,{"aria-label":"gender",name:"gender1",value:a[e.id],onChange:function(a){i(e.id,a.target.value)}},e.optionSet.options.map((function(e,a){return d.a.createElement(y.a,{key:a,value:e.id+"",control:d.a.createElement(x.a,null),label:e.displayName})})))))):"checkbox"==e.control.toLowerCase()?d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(g.a,{elevation:0,variant:"outlined",style:{padding:"7px",margin:"auto"}},d.a.createElement(p.a,{variant:"body1",gutterBottom:!0},e.displayName),d.a.createElement(p.a,{variant:"body2",gutterBottom:!0},e.description),d.a.createElement(v.a,{component:"fieldset"},d.a.createElement(S.a,null,e.optionSet.options.map((function(a){return d.a.createElement(y.a,{key:a.id,value:a,control:d.a.createElement(j.a,{value:a.id,name:e.id,onChange:r}),label:a.displayName})})))))):"richtextbox"==e.control.toLowerCase()?d.a.createElement(d.a.Fragment,null,d.a.createElement("br",null),d.a.createElement(g.a,{elevation:0,variant:"outlined",style:{padding:"10px",backgroundColor:"#000",color:"#fff"}},d.a.createElement(p.a,{variant:"h6"},"We should have a RichTextBox here")),d.a.createElement("br",null)):d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(g.a,{elevation:0,variant:"outlined",style:{padding:"7px",margin:"auto"}},d.a.createElement(p.a,{variant:"body1",gutterBottom:!0},e.displayName),d.a.createElement(p.a,{variant:"body2",gutterBottom:!0},e.description),d.a.createElement(B.a,{value:a[e.id],select:!0,variant:"outlined",margin:"dense",error:n[e.id]&&t[e.id],helperText:n[e.id],onChange:r,onBlur:l,name:e.id,fullWidth:!0,type:"text"},e.optionSet.options.map((function(e){return d.a.createElement(O.a,{key:e.id,value:e.id+""},e.displayName)}))))):"upload"==e.control.toLowerCase()?d.a.createElement(h.a,{item:!0,sm:12},d.a.createElement(h.a,{container:!0},d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(p.a,{variant:"button"},e.displayName)),d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(E.a,{style:{border:"2px dashed #eee"}},d.a.createElement("p",null,"Arraste e solte a imagen aqui ou clique para selecion\xe1-la"))))):"textarea"==e.control.toLowerCase()?d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(g.a,{elevation:0,variant:"outlined",style:{padding:"7px",margin:"auto"}},d.a.createElement(p.a,{variant:"body1",gutterBottom:!0},e.displayName),d.a.createElement(p.a,{variant:"body2",gutterBottom:!0},e.description),d.a.createElement(B.a,{value:a[e.id],variant:"outlined",multiline:!0,rows:4,disabled:!0,error:n[e.id]&&t[e.id],helperText:n[e.id],onChange:r,margin:"dense",onBlur:l,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"}))):d.a.createElement(h.a,{item:!0,sm:12,xs:12},d.a.createElement(g.a,{elevation:0,variant:"outlined",style:{padding:"7px",margin:"auto"}},d.a.createElement(p.a,{variant:"body1",gutterBottom:!0},e.displayName),d.a.createElement(p.a,{variant:"body2",gutterBottom:!0},e.description),d.a.createElement(B.a,{value:a[e.id],variant:"outlined",disabled:!0,error:n[e.id]&&t[e.id],helperText:n[e.id],onChange:r,margin:"dense",onBlur:l,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"})))}))))))))}))),d.a.createElement(w.a,{open:Z,onClose:le,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},d.a.createElement(C.a,{id:"alert-dialog-title"},"Informa\xe7\xe3o"),d.a.createElement(k.a,null,d.a.createElement(T.a,{id:"alert-dialog-description"},"A sua contribui\xe7\xe3o foi encaminhada \xe0 pessoa respons\xe1vel. Agradecemos desde j\xe1 pela sua disposi\xe7\xe3o."),d.a.createElement(y.a,{control:d.a.createElement(j.a,{name:"checkedB",onChange:function(e){ne(e.target.checked)},color:"primary"}),label:"Desejo receber feedback"}),d.a.createElement(N.a,{in:te},d.a.createElement(d.a.Fragment,null,d.a.createElement(V.b,{initialValues:H,onSubmit:function(e,a){a.setSubmitting},validationSchema:A.a().shape({email:A.c().matches(/\S+@\S+\.\S+/,"Email inv\xe1lido"),celular:A.c().matches(/^[8]{1}[2-7]{1}[0-9]{7}$/,"Celular inv\xe1lido")})},(function(e){e.values;var a=e.touched,t=e.errors,n=(e.dirty,e.isSubmitting,e.handleChange),r=e.handleBlur;e.handleSubmit,e.handleReset,e.setFieldValue;return d.a.createElement(V.a,null,d.a.createElement(d.a.Fragment,null,d.a.createElement(B.a,{margin:"dense",onChange:n,onBlur:r,error:t.celular&&a.celular,helperText:t.celular,variant:"filled",label:"Celular",fullWidth:!0}),d.a.createElement("br",null),d.a.createElement(B.a,{margin:"dense",type:"email",onChange:n,onBlur:r,error:t.email&&a.email,helperText:t.email,variant:"filled",label:"Email",fullWidth:!0})))})))),d.a.createElement("div",{style:{textAlign:"center",paddingTop:"15px"}},d.a.createElement(D.a,{disableElevation:!0,variant:"contained",onClick:le,autoFocus:!0},"Terminar")))))}}}]);
//# sourceMappingURL=47.b9fe9823.chunk.js.map