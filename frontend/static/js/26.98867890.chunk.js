(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[26],{389:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(259),r=a(227),i=a.n(r),o=a(79),l=a(228),c=a(15),u=a(0),s=a.n(u),d=a(202),m=a(492),p=a(55),b=a(387),h=a(279),f=a.n(h),y=a(56),g=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],E=!0,v=[],x=[];function O(e){var t=e.dashboard,a=e.period,n=void 0===a?null:a,r=e.isDesktop,h=void 0!==r&&r,O=Object(u.useState)(!0),S=Object(c.a)(O,2),A=S[0],D=S[1],k=Object(u.useState)({data:[]}),N=Object(c.a)(k,2),C=N[0],L=N[1],T=Object(u.useState)(!1),B=Object(c.a)(T,2),F=B[0],U=B[1];return Object(u.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var a,r,l,c,u,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E?D(!0):U(!0),e.next=3,Promise.resolve(Object(y.c)().getAgregatedData(t.attributeSet,t.attributes,t.orgUnits,"yearly",t.dataCleaners,n));case 3:a=e.sent,r={},a.data.headers.forEach((function(e){r[e.uid]={displayName:e.displayName,attribute:e.attribute}})),l=a.data.headers.map((function(e,n){return{label:e.displayName,name:"true"==t.useDisplayNameAsLabel?e.displayName:g[n],value:a.data.values[e.uid]}})),"true"==t.groupByAttributes&&(c=a.data.headers.map((function(e){return e.uid.split("-")[1]})),c=new Set(c),c=(c=Array.from(c)).map((function(e){return{label:a.data.headers.filter((function(t){return t.uid.split("-")[1]==e}))[0].displayName,value:e}})),u=a.data.headers.map((function(e){return e.attributeUID})),u=new Set(u),u=Array.from(u),x=c,u=u.map((function(e){return{label:a.data.headers.filter((function(t){return t.attributeUID==e}))[0].attribute,value:e}})),v=[["product"].concat(Object(o.a)(c.map((function(e){return e.label}))))].concat(Object(o.a)(u.map((function(e){return[e.label].concat(Object(o.a)(c.map((function(t){return Boolean(a.data.values[e.value+"-"+t.value])?a.data.values[e.value+"-"+t.value]:0}))))})))),L({title:t.displayName,attribute:" ",type:t.component,data:v})),"true"==t.groupByOptions?(s=a.data.headers.map((function(e){return e.uid.split("-")[1]})),s=new Set(s),s=(s=Array.from(s)).map((function(e){return{label:a.data.headers.filter((function(t){return t.uid.split("-")[1]==e}))[0].displayName,value:e}})),d=a.data.headers.map((function(e){return e.attributeUID})),d=new Set(d),d=Array.from(d),x=d,d=d.map((function(e){return{label:a.data.headers.filter((function(t){return t.attributeUID==e}))[0].attribute,value:e}})),v=[["product"].concat(Object(o.a)(d.map((function(e){return e.label}))))].concat(Object(o.a)(s.map((function(e){return[e.label].concat(Object(o.a)(d.map((function(t){return Boolean(a.data.values[t.value+"-"+e.value])?a.data.values[t.value+"-"+e.value]:0}))))})))),L({title:t.displayName,attribute:" ",type:t.component,data:v})):("ASC"==t.sort&&l.sort((function(e,t){return e.value>t.value?1:-1})),"DESC"==t.sort&&l.sort((function(e,t){return e.value<t.value?1:-1})),L({title:t.displayName,attribute:" ",type:t.component,data:l})),D(!1),E=!1,U(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),A?s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(d.a,null),s.a.createElement("br",null)):s.a.createElement(s.a.Fragment,null,F&&s.a.createElement(m.a,null),s.a.createElement(f.a,{style:t.height.includes("px")?{height:t.height,width:"100%"}:{width:"100%"},option:"true"==t.groupByAttributes||"true"==t.groupByOptions?w(C,C.type):j(C,C.type)}),s.a.createElement("ul",{style:{listStyle:"none",display:"true"==t.showLegend?"block":"none"}},C.data.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement(p.a,{key:t,variant:"button",style:{textTransform:"none"}},g[t],": ",e.label))}))),!h&&s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement(b.a,null),s.a.createElement("br",null)))}function j(e,t){return Object(n.a)({title:{text:e.title,subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"pie"==t?"{b} : {c} ({d}%)":"{b} : {c}"}},function(e,t){return"bar"==t?{xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:e.data.map((function(e){return e.name}))}}:"pie"!==t?{xAxis:{data:e.data.map((function(e){return e.name}))},yAxis:{}}:void 0}(e,t),{series:[{name:e.attribute,type:"colls"==t?"bar":t,center:["50%","60%"],label:{show:!0,position:"bar"==t?"right":"top",formatter:"pie"==t?"{b}({@2012})":"{c}"},data:e.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}function w(e,t){return{title:{text:e.title,subtext:"",x:"center"},tooltip:{},dataset:{source:e.data},xAxis:{type:"category"},yAxis:{},series:x.map((function(e){return{type:"bar"}}))}}},477:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(259),r=a(227),i=a.n(r),o=a(228),l=a(15),c=a(0),u=a.n(c),s=a(202),d=a(492),m=a(55),p=a(387),b=a(279),h=a.n(b),f=a(56),y=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],g=!0;function E(e){var t=e.dashboard,a=e.period,n=void 0===a?null:a,r=e.isDesktop,b=void 0!==r&&r,E=Object(c.useState)(!0),x=Object(l.a)(E,2),O=x[0],j=x[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),A=S[0],D=S[1],k=Object(c.useState)([]),N=Object(l.a)(k,2),C=N[0],L=N[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g?j(!0):D(!0),e.next=3,Promise.resolve(Object(f.c)().getAgregatedData(t.attributeSet,t.attributes,t.orgUnits,"yearly",t.dataCleaners,n));case 3:a=e.sent,r={},a.data.headers.forEach((function(e){r[e.uid]={displayName:e.displayName,attribute:e.attribute}})),o=a.data.headers.map((function(e,t){return{label:e.displayName,name:y[t],value:a.data.values[e.uid]}})),L({title:t.displayName,attribute:" ",type:t.component,data:o}),j(!1),D(!1),g=!1;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),O?u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement(s.a,null),u.a.createElement("br",null)):u.a.createElement(u.a.Fragment,null,A&&u.a.createElement(d.a,null),u.a.createElement(h.a,{option:v(C,C.type)}),u.a.createElement("ul",{style:{listStyle:"none"}},C.data.map((function(e,t){return u.a.createElement("li",{key:t},u.a.createElement(m.a,{key:t,variant:"button",style:{textTransform:"none"}},y[t],": ",e.label))}))),!b&&u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement(p.a,null),u.a.createElement("br",null)))}function v(e,t){return Object(n.a)({title:{text:e.title,subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"pie"==t?"{b} : {c} ({d}%)":"{b} : {c}"}},function(e,t){return"bar"==t?{xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:e.data.map((function(e){return e.name}))}}:"pie"!==t?{xAxis:{data:e.data.map((function(e){return e.name}))},yAxis:{}}:void 0}(e,t),{series:[{name:e.attribute,type:"colls"==t?"bar":t,center:["50%","60%"],label:{show:!0,position:"bar"==t?"right":"top",formatter:"pie"==t?"{b}({@2012})":"{c}"},data:e.data,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}},478:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(227),r=a.n(n),i=a(228),o=a(15),l=a(0),c=a.n(l),u=a(202),s=a(387),d=a(279),m=a.n(d),p=a(56),b={dias:["Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado","Domingo"],horas:["0h","1h","2h","3h","4h","5h","6h","7h","8h","9h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"]},h=!0;function f(e){var t=e.dashboard,a=e.period,n=void 0===a?null:a,d=e.isDesktop,b=void 0!==d&&d,f=Object(l.useState)(!0),g=Object(o.a)(f,2),E=g[0],v=g[1],x=Object(l.useState)([]),O=Object(o.a)(x,2),j=O[0],w=O[1];return Object(l.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h&&v(!0),e.next=3,Promise.resolve(Object(p.c)().getAgregatedData(t.attributeSet,t.attributes,t.orgUnits,"yearly",t.dataCleaners,n,t.agregationType,"true"));case 3:a=e.sent,i=[],Object.keys(a.data).forEach((function(e){i.push([Number(e.split("-")[0]),Number(e.split("-")[1]),a.data[e]])})),w({title:t.displayName,attribute:" ",type:t.component,data:i}),v(!1),h=!1;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),E?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(u.a,null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{style:t.height.includes("px")?{height:t.height,width:"100%"}:{width:"100%"},option:y(j)}),!b&&c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement(s.a,null),c.a.createElement("br",null)))}function y(e){return{title:{text:e.title,x:"center"},tooltip:{position:"top",formatter:function(e){return b.horas[e.value[1]]+": "+e.value[2]}},grid:{left:2,bottom:10,right:10,containLabel:!0},xAxis:{type:"category",data:b.dias,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#999",type:"dashed"}},axisLine:{show:!1}},yAxis:{type:"category",data:b.horas,axisLine:{show:!1}},series:[{type:"scatter",symbolSize:function(e){return 4*e[2]},data:e.data,animationDelay:function(e){return 5*e}}]}}},479:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(227),r=a.n(n),i=a(228),o=a(15),l=a(0),c=a.n(l),u=a(202),s=a(492),d=a(387),m=a(279),p=a.n(m),b=a(56),h=[],f={dias:["Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado","Domingo"],horas:["0h","1h","2h","3h","4h","5h","6h","7h","8h","9h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"]},y=!0;function g(e){var t=e.dashboard,a=e.period,n=void 0===a?null:a,m=e.isDesktop,g=void 0!==m&&m,v=Object(l.useState)(!0),x=Object(o.a)(v,2),O=x[0],j=x[1],w=Object(l.useState)([]),S=Object(o.a)(w,2),A=S[0],D=S[1],k=Object(l.useState)(!1),N=Object(o.a)(k,2),C=N[0],L=N[1];return Object(l.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y?j(!0):L(!0),e.next=3,Promise.resolve(Object(b.c)().getAgregatedData(t.attributeSet,t.attributes,t.orgUnits,"yearly",t.dataCleaners,n,t.agregationType,"false"));case 3:a=e.sent,i=[],h=[],a.data.headers.forEach((function(e){h[e.uid]={displayName:e.displayName,attribute:e.attribute},i[e.uid]=[]})),Object.keys(a.data.values).forEach((function(e){i[e.split("-")[0]+"-"+e.split("-")[1]].push([Number(e.split("-")[3]),Number(e.split("-")[2]),a.data.values[e]])})),D({ks:a.data.headers.map((function(e){return e.uid})),title:t.displayName,horas:f.horas,dias:f.dias,attribute:" ",type:"scatter",data:i}),j(!1),L(!1),y=!1;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),O?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(u.a,null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null,C&&c.a.createElement(s.a,null),c.a.createElement(p.a,{style:t.height.includes("px")?{height:t.height,width:"100%"}:{width:"100%"},option:E(A)}),!g&&c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement(d.a,null),c.a.createElement("br",null)))}function E(e){return{title:{text:e.title,x:"center"},legend:{data:e.ks.map((function(e){return h[e].displayName})),bottom:0},tooltip:{position:"bottom",formatter:function(t){return e.horas[t.value[1]]+": "+t.value[2]}},grid:{left:2,bottom:45,right:10,containLabel:!0},xAxis:{type:"category",data:e.horas,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"#999",type:"dashed"}},axisLine:{show:!1}},yAxis:{type:"category",data:e.dias,axisLine:{show:!1}},series:e.ks.map((function(t,a){return{name:h[t].displayName,type:"scatter",symbolSize:function(e){return 4*e[2]},data:e.data[t],animationDelay:function(e){return 5*e}}}))}}},6656:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(227),r=a.n(n),i=a(228),o=a(15),l=a(0),c=a.n(l),u=a(107),s=a(55),d=a(6628),m=a(212),p=a(197),b=a(202),h=a(217),f=a(486),y=a(487),g=a(192),E=a(149),v=a(194),x=a(856),O=a(383),j=a.n(O),w=a(110),S=a(6694),A=a(6703),D=a(56),k=a(389),N=a(477),C=a(478),L=a(479),T=a(836),B=[];function F(){var e=Object(l.useState)(!0),t=Object(o.a)(e,2),a=t[0],n=t[1],O=Object(l.useState)(3),F=Object(o.a)(O,2),U=F[0],H=F[1],M=Object(l.useState)([]),R=Object(o.a)(M,2),W=R[0],I=R[1],P=Object(l.useState)(!1),G=Object(o.a)(P,2),Q=G[0],z=G[1],J=Object(l.useState)(null),X=Object(o.a)(J,2),V=X[0],K=X[1],Y=Object(l.useState)(null),Z=Object(o.a)(Y,2),_=(Z[0],Z[1]),q=Object(l.useState)(0),$=Object(o.a)(q,2),ee=$[0],te=$[1];function ae(){return(ae=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Object(D.c)().getDashboardColecction());case 2:t=e.sent,B=t.data,t.data.length>0&&(_(t.data[0].displayName),ne(t.data[0])),n(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){var t=e.dashboardElements.map((function(e){return{component:e.dashboard.component,displayName:e.dashboard.displayName,attributeSet:e.dashboard.attributeSet.uid,dataCleaners:e.dashboard.dataCleaners,countEntries:e.dashboard.countEntries,agregationType:e.dashboard.agregationType,attributes:e.dashboard.attributes.map((function(e){return e.uid})),orgUnits:e.dashboard.orgUnits.map((function(e){return e.uid})),useDisplayNameAsLabel:e.dashboard.useDisplayNameAsLabel,groupByAttributes:e.dashboard.groupByAttributes,showLegend:e.dashboard.showLegend,height:e.dashboard.height,sort:e.dashboard.sort}}));I(t)}function re(e,t){switch(e.component){case"pie":return c.a.createElement(N.a,{key:t,period:V,dashboard:e});case"scatter":return e.countEntries.includes("true")?c.a.createElement(C.a,{key:t,period:V,dashboard:e}):c.a.createElement(L.a,{key:t,period:V,dashboard:e});case"table":return c.a.createElement(T.a,{period:V,dashboard:e});default:return c.a.createElement(k.a,{key:t,period:V,dashboard:e})}}function ie(){var e=new Date;return e.setHours(0),e.setMinutes(0),e}function oe(e){var t=new Date;return t.setHours(0),t.setMinutes(0),Object(S.a)(Object(A.a)(t,e),"yyyy-MM-dd HH:mm")}Object(l.useEffect)((function(){!function(){ae.apply(this,arguments)}()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{style:{padding:"7px 7px 7px 7px",width:"calc(100% - 14px)",borderRadius:"0px",zIndex:"50",textAlign:"center",position:"fixed",marginTop:"55px"}},c.a.createElement(s.a,{variant:"button",style:{textTransform:"none"}},"\xdaltim@s"),c.a.createElement("br",null),c.a.createElement(d.a,{disableElevation:!0,variant:"contained",color:"secondary"},c.a.createElement(m.a,{onClick:function(){H(3),K(null)},variant:3==U?"contained":"outlined",style:{borderTopLeftRadius:"1.3em",borderBottomLeftRadius:"1.3em",minWidth:"75px",textTransform:"none"}},"Geral"),c.a.createElement(m.a,{onClick:function(){H(0),K({startDate:"".concat(Object(S.a)(ie(),"yyyy-MM-dd HH:m")),endDate:"".concat(Object(S.a)(new Date,"yyyy-MM-dd HH:mm"))})},variant:0==U?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"Hoje"),c.a.createElement(m.a,{onClick:function(){H(1),K({endDate:"".concat(oe(1)),startDate:"".concat(oe(8))})},variant:1==U?"contained":"outlined",style:{minWidth:"75px",borderLeft:"none",textTransform:"none"}},"7 dias"),c.a.createElement(m.a,{onClick:function(){H(2),K({endDate:"".concat(oe(1)),startDate:"".concat(oe(31))})},variant:2==U?"contained":"outlined",style:{borderTopRightRadius:"1.3em",borderBottomRightRadius:"1.3em",minWidth:"75px",textTransform:"none",borderLeft:"none"}},"30 dias"))),c.a.createElement("br",null),c.a.createElement(p.a,{color:"secondary",onClick:function(){z(!0)},style:{position:"fixed",boxShadow:"none",zIndex:49,top:"127px",right:"0px",margin:"auto"}},c.a.createElement(w.i,null)),c.a.createElement(j.a,{index:ee,onChangeIndex:function(e){te(e)}},c.a.createElement("div",{value:0,style:{padding:"10px",marginTop:"107px"}},a?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(b.a,null)):c.a.createElement(h.a,{style:{width:"100%"}},W.filter((function(e){return"table"!==e.component})).map((function(e,t){return re(e,t)})))),c.a.createElement("div",{value:1,style:{padding:"10px",marginTop:"107px"}},a?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(b.a,null)):c.a.createElement(h.a,{style:{width:"100%"}},W.filter((function(e){return"table"==e.component})).map((function(e,t){return re(e,t)}))))),c.a.createElement(f.a,{open:Q,title:"Dashboard collection"},c.a.createElement(y.a,{style:{padding:"0px"}},c.a.createElement(g.a,{component:"div",role:"list"},B.map((function(e,t){return c.a.createElement(E.a,{role:"listitem",button:!0,onClick:function(){ne(e),z(!1)},key:t},c.a.createElement(v.a,{primary:e.displayName}))})))),c.a.createElement(x.a,{style:{textAlign:"right"}},c.a.createElement(m.a,{onClick:function(){z(!1)},color:"secondary"},"Fechar"))))}},836:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(227),r=a.n(n),i=a(228),o=a(15),l=a(0),c=a.n(l),u=a(202),s=a(492),d=a(213),m=a(107),p=a(55),b=a(217),h=a(56),f=a(6641),y=a(6643),g=!0,E=[];function v(e){var t=e.dashboard,a=e.period,n=void 0===a?null:a,v=e.isDesktop,x=void 0!==v&&v,O=Object(l.useState)(!0),j=Object(o.a)(O,2),w=j[0],S=j[1],A=Object(l.useState)(!1),D=Object(o.a)(A,2),k=D[0],N=D[1];return Object(l.useEffect)((function(){function e(){return(e=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g?S(!0):N(!0),e.next=3,Promise.resolve(Object(h.c)().getFieldsValues(t.attributeSet,t.attributes,t.orgUnits,t.dataCleaners,n));case 3:a=e.sent,E=a.data,S(!1),N(!1),g=!1;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]),w?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(u.a,null),c.a.createElement("br",null)):c.a.createElement(c.a.Fragment,null,k&&c.a.createElement(s.a,null),c.a.createElement(d.a,{container:!0,spacing:2},E.map((function(e){return c.a.createElement(d.a,{item:!0,xs:x?3:12},c.a.createElement(m.a,{style:{padding:"7px"}},c.a.createElement(p.a,{component:"div"},c.a.createElement(b.a,{fontWeight:"fontWeightMedium"},e.displayName),c.a.createElement(b.a,{color:"textSecondary"},Object(f.a)(new Date(e.created_at),new Date,{locale:y.a})),c.a.createElement(b.a,{fontWeight:"fontWeightRegular"},e.value))))}))))}}}]);
//# sourceMappingURL=26.98867890.chunk.js.map