/*! For license information please see 18.5de66c20.chunk.js.LICENSE.txt */
(this["webpackJsonpmobile.atendimento.co.mz"]=this["webpackJsonpmobile.atendimento.co.mz"]||[]).push([[18],{1560:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return G}));var n=i(41),r=i.n(n),a=i(64),o=i(23),s=i(126),c=i(0),l=i.n(c),d=i(14),u=i(42),p=i(522),j=i(400),h=i(386),b=i(493),x=i(401),m=i(121),f=i(58),O=i(398),v=i(1541),g=i(397),y=i(1561),w=i(1542),C=i(402),S=i(1543),k=i(1544),B=i(379),_=i(24),E=i(74),N=i(103),T=(i(83),i(676)),A=i.n(T),L=i(682),M=i.n(L),I=i(683),W=i.n(I),D=i(680);function P(e,t){void 0===t&&(t={});var i=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(i,t.doNotParse))try{return JSON.parse(i)}catch(n){}return e}var U=function(){return(U=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},z=function(){function e(e,t){var i=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?D.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){i.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=D.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,i){return void 0===t&&(t={}),this._updateBrowserValues(i),P(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var i={};for(var n in this.cookies)i[n]=P(this.cookies[n],e);return i},e.prototype.set=function(e,t,i){var n;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=U(U({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=D.serialize(e,t,i)),this._emitChange({name:e,value:t,options:i})},e.prototype.remove=function(e,t){var i=t=U(U({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=U({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=D.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),H=c.createContext(new z),V=(H.Provider,H.Consumer,H);var J,K=i(4),R=[],F=(J={border:"0px",backgroundColor:"white",padding:"0px 4px 0px 2px"},Object(s.a)(J,"border","1px solid #D0D7E5"),Object(s.a)(J,"borderWidth","0px 1px 1px 0px"),Object(B.a)((function(e){return{root:{maxWidth:400,flexGrow:1},header:{display:"flex",alignItems:"center",height:50,paddingLeft:e.spacing(4),backgroundColor:e.palette.background.default},img:{margin:"auto",height:320,display:"block",maxWidth:400,overflow:"hidden",width:"auto"},dots:{paddingTop:15,margin:"-10px auto"},dotsMobile:{paddingTop:0},dotsMobileLandscape:{paddingTop:20}}}))),q=null;function G(){var e=Object(d.g)().id,t=F(),i=Object(_.a)(),n=Object(c.useState)(!1),s=Object(o.a)(n,2),B=(s[0],s[1]),T=Object(c.useState)({}),L=Object(o.a)(T,2),I=L[0],D=L[1],P=Object(c.useState)({}),U=Object(o.a)(P,2),z=U[0],H=(U[1],Object(c.useState)([])),J=Object(o.a)(H,2),G=(J[0],J[1],l.a.useState(0)),$=Object(o.a)(G,2),Q=$[0],X=$[1],Y=Object(c.useState)(!1),Z=Object(o.a)(Y,2),ee=Z[0],te=(Z[1],function(e){var t=Object(c.useContext)(V);if(!t)throw new Error("Missing <CookiesProvider>");var i=t.getAll(),n=Object(c.useState)(i),r=n[0],a=n[1],o=Object(c.useRef)(r);return Object(c.useEffect)((function(){function i(){var i=t.getAll();(function(e,t,i){if(!e)return!0;for(var n=0,r=e;n<r.length;n++){var a=r[n];if(t[a]!==i[a])return!0}return!1})(e||null,i,o.current)&&a(i),o.current=i}return t.addChangeListener(i),function(){t.removeChangeListener(i)}}),[t]),[r,Object(c.useMemo)((function(){return t.set.bind(t)}),[t]),Object(c.useMemo)((function(){return t.remove.bind(t)}),[t])]}(["clientID"])),ie=Object(o.a)(te,2),ne=(ie[0],ie[1],function(){X((function(e){return e+1}))}),re=function(){X((function(e){return e-1}))};function ae(){return(ae=Object(a.a)(r.a.mark((function t(){var i,n,a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),e=atob(e[e.length-1].split("'")),q=e.split("'")[0],e=e.split("'")[1],t.next=6,Promise.all([Object(E.d)().getAttributeSetById(e),Object(E.d)().getOptionSets()]);case 6:i=t.sent,n=Object(o.a)(i,2),a=n[0],s=n[1],R=s.data,D(a.data),B(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){ae.apply(this,arguments)}()}),[]),ee?Object(K.jsx)(d.a,{to:"/success"}):Object(K.jsx)(x.a,{style:{backgroundColor:"#551a8b"},children:Object(K.jsxs)(p.a,{children:[Object(K.jsx)("br",{}),Boolean(I.attributes)&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(b.a,{container:!0,children:Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsxs)(m.a,{elevation:0,variant:"outlined",style:{padding:"7px",margin:"auto",borderTop:"7px solid #f00"},children:[Object(K.jsx)(f.a,{variant:"h5",gutterBottom:!0,children:I.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:I.displayName})]})})}),Object(K.jsx)("br",{}),Object(K.jsx)(N.c,{initialValues:z,onSubmit:function(e,t){var i=t.setSubmitting;function n(){return(n=Object(a.a)(r.a.mark((function e(t){var i,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object.keys(t).map((function(e){return{attribute:Number.parseInt(e),value:Array.isArray(t[e])?t[e].join(","):t[e]}})),n={attribute_set:{id:I.id},attribute_values:i,org_unit:{id:q}},!(q.length>15)){e.next=7;break}return e.next=5,Promise.resolve(Object(E.d)().savePlaceByID(q));case 5:a=e.sent,n.orgUnit.id=a.data.id;case 7:return e.next=9,Promise.resolve(Object(E.d)().postAttributeValueSet(JSON.stringify(n)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){n.apply(this,arguments)}(e),setTimeout((function(){i(!1)}),500)},children:function(e){var n=e.values,r=e.touched,a=e.errors,o=(e.dirty,e.isSubmitting,e.handleChange),s=e.handleBlur,c=(e.handleSubmit,e.handleReset,e.setFieldValue);return Object(K.jsx)(N.b,{children:Object(K.jsxs)(b.a,{container:!0,spacing:2,children:[I.attributes.map((function(e){return Boolean(e.optionSet.options.length>0)?"radio"==e.control.toLowerCase()?Object(K.jsx)(b.a,{item:!0,sm:12,children:Object(K.jsxs)(m.a,{variant:"outlined",elevation:0,style:{width:"calc(95vw - 15px)",maxWidth:"calc(95vw - 30px)",padding:"7px",margin:"auto"},children:[Object(K.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(K.jsx)(O.a,{component:"fieldset",children:Object(K.jsx)(v.a,{"aria-label":"gender",name:"gender1",value:n[e.id],onChange:function(t){c(e.id,t.target.value)},children:e.optionSet.options.map((function(e,t){return Object(K.jsx)(g.a,{value:e.id+"",control:Object(K.jsx)(y.a,{}),label:e.displayName},t)}))})})]})}):"checkbox"==e.control.toLowerCase()?Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsxs)(m.a,{elevation:0,variant:"outlined",style:{width:"calc(95vw - 15px)",maxWidth:"calc(95vw - 30px)",padding:"7px",margin:"auto"},children:[Object(K.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(K.jsx)(O.a,{component:"fieldset",children:Object(K.jsx)(w.a,{children:R.filter((function(t){return t.id==e.option_set}))[0].options.map((function(t){return Object(K.jsx)(g.a,{value:t,control:Object(K.jsx)(C.a,{value:t.id,checked:!!Boolean(n[e.attribute.id])&&!!n[e.attribute.id].includes(t.id+""),name:e.id,onChange:o}),label:t.displayName},t.id)}))})})]})}):"richtextbox"==e.control.toLowerCase()?Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("br",{}),Object(K.jsx)(m.a,{elevation:0,variant:"outlined",style:{padding:"10px",backgroundColor:"#000",color:"#fff"},children:Object(K.jsx)(f.a,{variant:"h6",children:"We should have a RichTextBox here"})}),Object(K.jsx)("br",{})]}):Boolean(R.filter((function(t){return t.id==e.option_set}))[0].options[0].foto)?null!==R.filter((function(t){return t.id==e.option_set}))[0].options[0].foto?Object(K.jsxs)(b.a,{item:!0,sm:12,xs:12,style:{textAlign:"center"},children:[Object(K.jsx)(f.a,{variant:"button",children:R.filter((function(t){return t.id==e.option_set}))[0].options[Q].displayName}),Object(K.jsx)(A.a,{axis:"rtl"===i.direction?"x-reverse":"x",index:Q,onChangeIndex:function(t){var i=R.filter((function(t){return t.id==e.option_set}))[0].options[t].id;c(e.id,i),X(t)},enableMouseEvents:!0,children:R.filter((function(t){return t.id==e.option_set}))[0].options.map((function(e,i){return Object(K.jsx)("div",{style:{backgroundColor:"#eee"},children:Math.abs(Q-i)<=2?Object(K.jsx)("img",{className:t.img,src:"".concat(E.a+e.foto.url)}):null},i)}))}),Object(K.jsx)(S.a,{style:{backgroundColor:"transparent"},steps:R.filter((function(t){return t.id==e.option_set}))[0].options.length,position:"static",variant:"text",activeStep:Q,nextButton:Object(K.jsx)(h.a,{size:"small",onClick:ne,disabled:Q===R.filter((function(t){return t.id==e.option_set}))[0].options.length-1,children:"rtl"===i.direction?Object(K.jsx)(M.a,{}):Object(K.jsx)(W.a,{})}),backButton:Object(K.jsx)(h.a,{size:"small",onClick:re,disabled:0===Q,children:"rtl"===i.direction?Object(K.jsx)(W.a,{}):Object(K.jsx)(M.a,{})})})]}):void 0:Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsxs)(m.a,{elevation:0,variant:"outlined",style:{width:"calc(95vw - 15px)",maxWidth:"calc(95vw - 30px)",padding:"7px",margin:"auto"},children:[Object(K.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(K.jsx)(j.a,{value:n[e.id],select:!0,variant:"outlined",margin:"dense",error:a[e.id]&&r[e.id],helperText:a[e.id],onChange:o,onBlur:s,name:e.id,fullWidth:!0,type:"text",children:R.filter((function(t){return t.id==e.option_set}))[0].options.map((function(e){return Object(K.jsx)(k.a,{value:e.id+"",children:e.displayName},e.id)}))})]})}):"upload"==e.control.toLowerCase()?Object(K.jsx)(b.a,{item:!0,sm:12,children:Object(K.jsxs)(b.a,{container:!0,children:[Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsx)(f.a,{variant:"button",children:e.displayName})}),Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsx)("p",{children:"Arraste e solte a imagen aqui ou clique para selecion\xe1-la"})})]})}):"textarea"==e.control.toLowerCase()?Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsxs)(m.a,{elevation:0,variant:"outlined",style:{width:"calc(95vw - 15px)",maxWidth:"calc(95vw - 30px)",padding:"7px",margin:"auto"},children:[Object(K.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(K.jsx)(j.a,{value:n[e.id],variant:"outlined",multiline:!0,rows:4,error:a[e.id]&&r[e.id],helperText:a[e.id],onChange:o,margin:"dense",onBlur:s,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"})]})}):Object(K.jsx)(b.a,{item:!0,sm:12,xs:12,children:Object(K.jsxs)(m.a,{elevation:0,variant:"outlined",style:{width:"calc(95vw - 15px)",maxWidth:"calc(95vw - 30px)",padding:"7px",margin:"auto"},children:[Object(K.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(K.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(K.jsx)(j.a,{value:n[e.id],variant:"outlined",error:a[e.id]&&r[e.id],helperText:a[e.id],onChange:o,margin:"dense",onBlur:s,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"}),Object(K.jsx)("br",{}),Object(K.jsx)(h.a,{color:"primary",size:"small",variant:"outlined",children:"Limpar"})]})})})),Object(K.jsx)(b.a,{item:!0,sm:12,style:{paddingTop:"10px",textAlign:"right"},children:Object(K.jsxs)(x.a,{display:"flex",children:[Object(K.jsx)(x.a,{children:Object(K.jsx)(h.a,{component:u.b,to:"/",color:"secondary",children:"Cancel"})}),Object(K.jsx)(x.a,{flexGrow:0,children:"\xa0"}),Object(K.jsx)(x.a,{children:Object(K.jsx)(h.a,{disableElevation:!0,type:"submit",color:"primary",variant:"contained",children:"Save"})})]})})]})})}})]})]})})}},680:function(e,t,i){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var i={},r=t||{},o=e.split(a),c=r.decode||n,l=0;l<o.length;l++){var d=o[l],u=d.indexOf("=");if(!(u<0)){var p=d.substr(0,u).trim(),j=d.substr(++u,d.length).trim();'"'==j[0]&&(j=j.slice(1,-1)),void 0==i[p]&&(i[p]=s(j,c))}}return i},t.serialize=function(e,t,i){var n=i||{},a=n.encode||r;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!o.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,r=encodeURIComponent,a=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(i){return e}}}}]);