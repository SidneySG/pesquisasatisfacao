(this["webpackJsonpmobile.atendimento.co.mz"]=this["webpackJsonpmobile.atendimento.co.mz"]||[]).push([[16],{1565:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var a,c=n(41),i=n.n(c),r=n(64),o=n(23),s=n(0),d=n(14),l=n(401),b=n(386),u=n(58),j=n(392),p=n(1007),h=n(74),g=n(570),x=n(524),m=n(495),O=n(671),f=n.n(O),v=n(4);function y(e){var t=e.ficha,n=e.orgUnitID,a=btoa(n+"'"+t.id).toString("base64");return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(w,{onClick:function(){var e=document.getElementById("qrCodeServicos".concat(t.id)).toDataURL("image/png"),n=new Image;n.src=e;var a=window.open("");a.document.write(n.outerHTML),a.focus()},children:[Object(v.jsx)(u.a,{variant:"button",children:t.displayName}),Object(v.jsx)(u.a,{children:t.description})]}),Object(v.jsx)(f.a,{style:{display:"none"},size:300,value:Boolean(t.type)?"".concat(Object(h.b)(),"/#/c/").concat(a):"".concat(Object(h.b)(),"/#/f/").concat(a),id:"qrCodeServicos".concat(t.id)})]})}var w=m.a.div(a||(a=Object(x.a)(["\n  border-radius: 8px;\n  place-content: center;\n  display: grid;\n  color: white;\n  text-align: center;\n  cursor: pointer;\n  max-width: 50vw;\n  box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);\n  background-color: #551a8b;\n  padding: 20px;\n"]))),S=[],k={};function N(){var e=Object(d.g)().id,t=Object(s.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1],x=Object(s.useState)(!1),m=Object(o.a)(x,2),O=m[0],w=m[1];function N(){return(N=Object(r.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!0),S=[],k={},t.prev=3,!(atob(e).length>10)){t.next=11;break}return t.next=7,Promise.resolve(Object(h.d)().getPlaceDetails(atob(e)));case 7:n=t.sent,k=n.data,t.next=15;break;case 11:return t.next=13,Promise.resolve(Object(h.d)().getOrganisationUnits("?fields=id,name,displayName,shortName,uid,code,orgUnitType,logo,bgImage,attributeSets&id=".concat(atob(e))));case 13:a=t.sent,k=a.data[0];case 15:if(!(k.attributeSets.length>0)){t.next=20;break}return t.next=18,Promise.resolve(Object(h.d)().getForms("?fields=id,uid,type,name,displayName,description,shortName&attributeSet__in=".concat(k.attributeSets.map((function(e){return e})).join(","))));case 18:r=t.sent,S=r.data;case 20:w(!O),t.next=27;break;case 23:throw t.prev=23,t.t0=t.catch(3),t.t0;case 27:c(!1);case 28:case"end":return t.stop()}}),t,null,[[3,23]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){return N.apply(this,arguments)}),[]),a?Object(v.jsx)("div",{style:{width:"100%",height:"80vh",textAlign:"center",marginTop:"50vh"},children:Object(v.jsx)(j.a,{})}):Object(v.jsxs)("div",{style:{padding:"60px 10px"},children:[Boolean(k.logo)&&Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("img",{style:{width:250},src:"".concat(Object(h.b)(),"/static/orgunits/thumbnails/").concat(k.logo)})}),Boolean(k.photos)&&Object(v.jsx)("div",{style:{textAlign:"center"},children:Object(v.jsx)("img",{style:{maxWidth:"250px",maxHeight:"50vh"},src:k.photos[0]})}),Object(v.jsxs)(l.a,{style:{padding:"15px",textAlign:"center"},children:[Object(v.jsx)(u.a,{variant:"h6",children:k.displayName}),Object(v.jsx)(u.a,{variant:"button",children:k.shortName})]}),Object(v.jsx)(l.a,{style:{textAlign:"center",paddingBottom:"15px"},children:Object(v.jsx)(b.a,{variant:"contained",onClick:function(){var e=document.getElementById("qrCodeServicos").toDataURL("image/png"),t=new Image;t.src=e;var n=window.open("");n.document.write(t.outerHTML),n.focus()},children:"Gerar QRCode"})}),Object(v.jsx)(p.a,{}),0==S.length?Object(v.jsx)(u.a,{variant:"h6",children:"N\xe3o existem fichas para esta institui\xe7\xe3o"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a,{variant:"h6",style:{paddingBottom:"7px"},children:"Fichas"}),Object(v.jsx)(g.a,{minWidth:300,children:S.map((function(t,n){return Object(v.jsx)(y,{orgUnitID:atob(e),ficha:t},n)}))})]}),Object(v.jsx)(f.a,{style:{display:"none"},size:300,value:Object(h.b)()+"/#/servicos/"+e,id:"qrCodeServicos"})]})}},570:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,c,i=n(98),r=n(32),o=n(23),s=n(697),d=n(0),l=n(524),b=n(495),u=b.a.div(a||(a=Object(l.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: ",";\n"])),(function(e){return e.gap||"1em"})),j=b.a.div(c||(c=Object(l.a)(["\n  display: grid;\n  grid-gap: ",";\n"])),(function(e){return e.gap||"1em"})),p=n(4);function h(e){var t=e.children,n=e.gap,a=e.minWidth,c=void 0===a?500:a,l=Object(s.a)(e,["children","gap","minWidth"]),b=Object(d.useRef)(),h=Object(d.useState)(3),g=Object(o.a)(h,2),x=g[0],m=g[1],O=Object(r.a)(Array(x)).map((function(){return[]}));!function(e,t){e.forEach((function(e,n){return t[n%t.length].push(e)}))}(t,O);return Object(d.useEffect)((function(){return m(Math.ceil(b.current.offsetWidth/c))}),[]),Object(p.jsx)(u,Object(i.a)(Object(i.a)({ref:b,gap:n},l),{},{children:Object(r.a)(Array(x)).map((function(e,t){return Object(p.jsx)(j,{gap:n,children:O[t]},t)}))}))}}}]);