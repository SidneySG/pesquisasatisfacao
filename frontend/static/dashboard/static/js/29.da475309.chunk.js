(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[29],{1550:function(e,t,a){e.exports={sidenav:"builder_sidenav__2JzUp",main:"builder_main__3B86l",container:"builder_container__2avCc",section:"builder_section__1VBjZ",listItem:"builder_listItem__K9alZ",listItemDragIndicator:"builder_listItemDragIndicator__1nIyb",listItemIcon:"builder_listItemIcon__BUS6p",item:"builder_item__s5LQH",field:"builder_field__M9V3g",fieldDragIndicator:"builder_fieldDragIndicator__1Q3_t",searchTextBox:"builder_searchTextBox__2Phl8",h6:"builder_h6__3TexY",h6Secondary:"builder_h6Secondary__1EFO6",sticky:"builder_sticky__1rJnJ",stickyInner:"builder_stickyInner__2y7Cq",fab2:"builder_fab2__3IxyT",fab:"builder_fab__2DMho",containerMargins:"builder_containerMargins__2df8B"}},1811:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return je}));var i,n=a(26),r=a(29),s=a.n(r),c=a(51),d=a(16),l=a(28),o=a(1565),b=a(0),j=a(18),p=a(181),u=a(88),x=a(405),O=a(400),m=a(429),g=a(379),h=a(456),f=a(1550),y=a.n(f),v=a(1797),N=a.n(v),_=a(1798),I=a.n(_),B=a(199),L=a.n(B),k=a(1799),C=a.n(k),S=a(1800),D=a.n(S),P=a(198),w=a.n(P),R=a(1801),F=a.n(R),T=a(1802),W=a.n(T),A=a(139),H=a.n(A),z=a(447),M=a(71),J=a(402),q=a(227),V=a(453),E=a(448),U=a(461),Q=(a(62),a(34)),Z=a(1560),K=a(1566),Y=a(1563),G=a(1610),X=a(435),$=a(1619),ee=a(1777),te=a(436),ae=a(1620),ie=a(450),ne=a(2),re={name:"FormName",receberFeedback:!0,displayName:"Display name",description:"Description",type:"staged",sections:[]},se=K.a.div(i||(i=Object(o.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-radius: 2px;\n  border-color: '#eeeeee';\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #bdbdbd;\n  outline: none;\n  transition: border .24s ease-in-out;\n"]))),ce=[],de=function(e){return e?{padding:"7px",margin:"auto",borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"}:{padding:"7px",margin:"auto"}},le=function(e,t,a){var i=Array.from(e),n=i.splice(t,1),r=Object(d.a)(n,1)[0];return i.splice(a,0,r),i},oe=function(e,t,a,i){var n=Array.from(e),r=Array.from(t),s=n.splice(a,1),c=Object(d.a)(s,1)[0];r.splice(i,0,c);var l={};return l.source=n,l.destination=r,l},be=function(e){switch(e.toLowerCase()){case"radio":return Object(ne.jsx)(N.a,{});case"checkbox":return Object(ne.jsx)(I.a,{});case"autocomplete":return Object(ne.jsx)(L.a,{});case"richtextbox":return Object(ne.jsx)(C.a,{});case"upload":return Object(ne.jsx)(D.a,{});default:return Object(ne.jsx)(w.a,{})}};function je(e){var t=Object(b.useState)(!1),a=Object(d.a)(t,2),i=a[0],r=a[1],o=Object(b.useState)(!1),f=Object(d.a)(o,2),v=f[0],N=f[1],_=Object(b.useState)(""),I=Object(d.a)(_,2),B=I[0],L=I[1],k=Object(b.useState)(!1),C=Object(d.a)(k,2),S=C[0],D=C[1],P=Object(b.useState)(!1),w=Object(d.a)(P,2),R=(w[0],w[1],Object(j.g)().id);function T(){return(T=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,Promise.resolve(Object(Q.c)().getAttributeSets("/"+atob(R)));case 3:t=e.sent,ce=t.data.attributes,re.attributeSet=t.data,r(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(c.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=re).sections=re.sections.map((function(e,t){return{order:t,displayName:e.displayName,description:e.description,fields:Object(n.a)(e.fields.map((function(e,t){return{order:t,attribute:e.id}})))}})),a.name=re.name,a.displayName=re.displayName,a.description=re.description,a.type=re.type,a.attributeSet=re.attributeSet.id,t.prev=7,t.next=10,Promise.resolve(Object(Q.c)().postForm(a));case 10:e.messageBox("Ficha criada com exito!"),L("/forms"),D(!0),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),e.messageBox("Ocorreu um erro na tentaiva de criar a ficha!");case 18:case"end":return t.stop()}}),t,null,[[7,15]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){return T.apply(this,arguments)}),[R]),i?Object(ne.jsx)("div",{style:{width:"100%",height:"80vh",textAlign:"center",marginTop:"50vh"},children:Object(ne.jsx)(m.a,{})}):S?Object(ne.jsx)(j.a,{to:B}):Object(ne.jsx)(Z.a,{onDragEnd:function(e){var t=e.source,a=e.destination;if(a){if(t.droppableId===a.droppableId)if("attributes"==t.droppableId){var i=le(ce,t.index,a.index);ce=i}else{var n=le(re.sections[a.droppableId.split("-")[1]].fields,t.index,a.index);re.sections[a.droppableId.split("-")[1]].fields=n}else if("attributes"==t.droppableId){var r=oe(ce,re.sections[a.droppableId.split("-")[1]].fields,t.index,a.index);re.sections[a.droppableId.split("-")[1]].fields=r.destination,ce=r.source}else if("attributes"!==t.droppableId&&"attributes"!==a.droppableId){var s=oe(re.sections[t.droppableId.split("-")[1]].fields,re.sections[a.droppableId.split("-")[1]].fields,t.index,a.index);re.sections[t.droppableId.split("-")[1]].fields=s.source,re.sections[a.droppableId.split("-")[1]].fields=s.destination}else{var c=oe(re.sections[t.droppableId.split("-")[1]].fields,ce,t.index,a.index);re.sections[t.droppableId.split("-")[1]].fields=c.source,ce=c.destination}N(!v)}},children:Object(ne.jsxs)("div",{className:y.a.container,children:[Object(ne.jsxs)("div",{className:y.a.main,children:[Object(ne.jsx)(p.a,{elevation:0,square:!0,className:y.a.sticky,children:Object(ne.jsxs)("div",{className:y.a.stickyInner,children:[Object(ne.jsx)(u.a,{variant:"h6",className:y.a.h6,children:"Form builder"}),Object(ne.jsx)(z.a,{color:"primary",variant:"extended",className:y.a.fab2,onClick:function(){re.sections.push({name:"Name",displayName:"Display name",description:"description",fields:[]}),N(!v)},children:"Add section"}),"\xa0",Object(ne.jsx)(z.a,{color:"primary",className:y.a.fab,onClick:function(){return A.apply(this,arguments)},children:Object(ne.jsx)(H.a,{})})]})}),Object(ne.jsx)(M.b,{initialValues:{},children:function(e){var t=e.values,a=e.touched,i=e.errors,n=(e.dirty,e.isSubmitting,e.handleChange),r=e.handleBlur,s=(e.handleSubmit,e.handleReset,e.setFieldValue);return Object(ne.jsxs)(M.a,{children:[Object(ne.jsx)("div",{style:{display:"block",padding:"5px 20px"},children:Object(ne.jsx)(x.a,{name:"name",label:"Name",fullWidth:!0,margin:"dense",variant:"outlined",onChange:function(e){re.name=e.target.value}})}),Object(ne.jsx)("div",{style:{display:"block",padding:"5px 20px"},children:Object(ne.jsx)(Y.a,{control:Object(ne.jsx)(G.a,{checked:re.receberFeedback,onChange:function(e){re.receberFeedback=e.target.checked,N(!v)},name:"receberFeedback"}),label:"Receber feedback"})}),Object(ne.jsx)("div",{style:{display:"block",padding:"5px 20px"},children:Object(ne.jsx)(g.a,{style:{minWidth:"50%",borderBottom:"1px dotted rgba(0, 0, 0, 0.42)"},onChange:function(e){re.displayName=e.target.value},placeholder:"Display Name",name:"displayName"})}),Object(ne.jsx)("div",{style:{padding:"5px 20px"},children:Object(ne.jsx)(g.a,{style:{display:"block",borderBottom:"1px dotted rgba(0, 0, 0, 0.42)"},onChange:function(e){re.description=e.target.value},multiline:!0,placeholder:"Description",name:"description"})}),re.sections.map((function(e,c){return Object(ne.jsxs)(p.a,{variant:"outlined",style:{margin:"10px 0px",border:"0px solid #fff",borderRadius:"8px",boxShadow:"0 1px 6px rgba(32, 33, 36, 0.28)"},children:[Object(ne.jsx)("div",{style:{display:"block",padding:"5px 20px"},children:Object(ne.jsx)(g.a,{style:{minWidth:"50%",borderBottom:"1px dotted rgba(0, 0, 0, 0.42)"},onChange:function(e){re.sections[c].displayName=e.target.value},placeholder:"Display Name",name:"displayName"+c})}),Object(ne.jsx)("div",{style:{padding:"5px 20px"},children:Object(ne.jsx)(g.a,{style:{display:"block",borderBottom:"1px dotted rgba(0, 0, 0, 0.42)"},onChange:function(e){re.sections[c].description=e.target.value},multiline:!0,placeholder:"Description",name:"description"+c})}),Object(ne.jsx)(Z.c,{droppableId:"section-".concat(c),children:function(c,d){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("div",Object(l.a)(Object(l.a)({style:de(d.isDraggingOver),ref:c.innerRef},c.droppableProps),{},{children:e.fields.map((function(e,c){return Object(ne.jsx)(Z.b,{draggableId:"".concat(e.id),index:c,children:function(d,o){return e.optionSet.options.length>0?e.control.toLowerCase().includes("radio")?Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({variant:"outlined",elevation:0,className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)("div",{style:{textAlign:e.control.toLowerCase().includes("horizontal")?"center":"left"},children:Object(ne.jsxs)(X.a,{component:"fieldset",error:i[e.id]&&a[e.id],children:[Object(ne.jsx)($.a,{row:e.control.toLowerCase().includes("horizontal"),"aria-label":"gender",name:"gender1",value:t[e.id],onChange:function(t){s(e.id,t.target.value)},children:e.optionSet.options.map((function(t,a){return Object(ne.jsx)(Y.a,{labelPlacement:e.control.toLowerCase().includes("horizontal")?"bottom":"end",value:t.id+"",control:Object(ne.jsx)(ee.a,{}),label:t.displayName},a)}))}),Object(ne.jsx)(te.a,{children:i[e.id]})]})})]}),c):"autocomplete"==e.control.toLowerCase()?Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({variant:"outlined",elevation:0,className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)(h.a,{onChange:function(t,a){s(e.id,a.id)},fullWidth:!0,id:"".concat(e.id),size:"small",getOptionLabel:function(e){return e.displayName},options:e.optionSet.options,style:{minWidth:200},renderInput:function(t){return Object(ne.jsx)(x.a,Object(l.a)(Object(l.a)({variant:"outlined",margin:"dense",error:i[e.id]&&a[e.id],helperText:i[e.id],fullWidth:!0},t),{},{placeholder:"Seleccione uma op\xe7\xe3o"}))}})]}),c):"checkbox"==e.control.toLowerCase()?Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({elevation:0,variant:"outlined",className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)(X.a,{component:"fieldset",children:Object(ne.jsx)(ae.a,{children:e.optionSet.options.map((function(a){return Object(ne.jsx)(Y.a,{value:a,checked:!!Boolean(t[e.id])&&!!t[e.id].includes(a.id+""),control:Object(ne.jsx)(G.a,{value:a.id,name:e.id,onChange:n}),label:a.displayName},a.id)}))})})]}),c):"range"==e.control.toLowerCase()?Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({elevation:0,variant:"outlined",className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)("div",{className:y.a.fieldDragIndicator,children:Object(ne.jsxs)(X.a,{component:"fieldset",error:i[e.id]&&a[e.id],children:[Object(ne.jsxs)($.a,{row:!0,"aria-label":e.id,name:e.id,onChange:function(t){s(e.id,t.target.value)},value:t[e.id],children:[Object(ne.jsx)(u.a,{variant:"body1",style:{paddingTop:"33px"},gutterBottom:!0,children:e.optionSet.options[0].displayName}),e.optionSet.options.map((function(e,t){return Object(ne.jsx)(Y.a,{style:{margin:"0px"},labelPlacement:"top",value:e.id+"",control:Object(ne.jsx)(ee.a,{}),label:e.name},t)})),Object(ne.jsx)(u.a,{variant:"body1",style:{paddingTop:"33px"},gutterBottom:!0,children:e.optionSet.options[e.optionSet.options.length-1].displayName})]}),Object(ne.jsx)(te.a,{children:i[e.id]})]})})]}),c):"richtextbox"==e.control.toLowerCase()?Object(ne.jsxs)("div",Object(l.a)(Object(l.a)(Object(l.a)({style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsx)("br",{}),Object(ne.jsx)(p.a,{elevation:0,variant:"outlined",style:{padding:"10px",backgroundColor:"#000",color:"#fff"},children:Object(ne.jsx)(u.a,{variant:"h6",children:"We should have a RichTextBox here"})}),Object(ne.jsx)("br",{})]}),c):Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({elevation:0,variant:"outlined",className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)(x.a,{value:t[e.id],select:!0,variant:"outlined",margin:"dense",error:i[e.id]&&a[e.attribute.id],helperText:i[e.id],onChange:n,onBlur:r,name:e.id,fullWidth:!0,type:"text",children:e.optionSet.options.map((function(e){return Object(ne.jsx)(ie.a,{value:e.id+"",children:e.displayName},e.id)}))})]}),c):"upload"==e.control.toLowerCase()?Object(ne.jsxs)(O.a,{container:!0,children:[Object(ne.jsx)(O.a,{item:!0,sm:12,xs:12,children:Object(ne.jsx)(u.a,{variant:"button",children:e.displayName})}),Object(ne.jsx)(O.a,{item:!0,sm:12,xs:12,children:Object(ne.jsx)(se,{children:Object(ne.jsx)("p",{children:"Arraste e solte a imagen aqui ou clique para selecion\xe1-la"})})})]}):"textarea"==e.control.toLowerCase()?Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({elevation:0,variant:"outlined",className:y.a.field,style:de(o.isDraggingOver),ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(x.a,{value:t[e.id],variant:"outlined",multiline:!0,rows:4,error:i[e.id]&&a[e.id],helperText:i[e.id],onChange:n,margin:"dense",onBlur:r,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"})]}),c):Object(ne.jsxs)(p.a,Object(l.a)(Object(l.a)(Object(l.a)({elevation:0,variant:"outlined",className:y.a.field,ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:[Object(ne.jsxs)("div",{className:y.a.fieldDragIndicator,children:[Object(ne.jsx)(F.a,{}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}}),Object(ne.jsx)(F.a,{style:{marginLeft:"-4"}})]}),Object(ne.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:e.displayName}),Object(ne.jsx)(u.a,{variant:"body2",gutterBottom:!0,children:e.description}),Object(ne.jsx)(x.a,{value:t[e.id],variant:"outlined",error:i[e.id]&&a[e.id],helperText:i[e.id],onChange:n,margin:"dense",onBlur:r,name:e.id,fullWidth:!0,placeholder:"Sua resposta",type:"text"})]}),c)}},e.id)}))})),c.placeholder]})}},"".concat(c))]})}))]})}}),Object(ne.jsx)(p.a,{style:{padding:"15px 20px",border:"0px solid #fff",borderRadius:"8px",boxShadow:"0 1px 6px rgba(32, 33, 36, 0.28)"},children:Object(ne.jsx)(x.a,{style:{display:"block"},onChange:function(e){re.successMessage=e.target.value},multiline:!0,fullWidth:!0,variant:"outlined",placeholder:"Success Message",size:"small",label:"Success Message",name:"successMessage"})})]}),Object(ne.jsxs)("div",{className:y.a.sidenav,children:[Object(ne.jsxs)("div",{className:y.a.searchTextBox,children:[Object(ne.jsx)(u.a,{variant:"h6",children:"Attributes"}),Object(ne.jsx)(x.a,{type:"text",variant:"filled",margin:"dense",InputProps:{disableUnderline:!0},id:"filtrarAttributos",fullWidth:!0,label:"Filtrar"})]}),Object(ne.jsx)(Z.c,{droppableId:"attributes",children:function(e,t){return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(J.a,Object(l.a)(Object(l.a)({ref:e.innerRef},e.droppableProps),{},{children:ce.map((function(e,t){return Object(ne.jsx)(Z.b,{draggableId:"".concat(e.id),index:t,children:function(t,a){return Object(ne.jsxs)(q.a,Object(l.a)(Object(l.a)(Object(l.a)({disableRipple:!0,className:y.a.listItem,style:{paddingLeft:"0px"},ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[Object(ne.jsx)(W.a,{className:y.a.listItemDragIndicator}),Object(ne.jsx)(V.a,{children:Object(ne.jsx)(U.a,{variant:"rounded",className:y.a.listItemIcon,children:be(e.control)})}),Object(ne.jsx)(E.a,{primary:e.name,secondary:e.displayName})]}))}},e.id)}))})),e.placeholder]})}},"attributes")]})]})})}}}]);