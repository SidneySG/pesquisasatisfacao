(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[25],{1548:function(e,a,t){e.exports={sidenav:"dashboard_sidenav__3jBkL",main:"dashboard_main__3Noun",container:"dashboard_container__3631C",section:"dashboard_section__1x6Vy",listItem:"dashboard_listItem__3ilf8",field:"dashboard_field__STFG5",fieldDragIndicator:"dashboard_fieldDragIndicator__R-Mma",listItemDragIndicator:"dashboard_listItemDragIndicator__1A8cf",listItemIcon:"dashboard_listItemIcon__3bGAQ",searchTextBox:"dashboard_searchTextBox__338aS",h6:"dashboard_h6__1d5Qp",h6Secondary:"dashboard_h6Secondary__3ZXx3",sticky:"dashboard_sticky__19mAm",stickyInner:"dashboard_stickyInner__wZG00",fab:"dashboard_fab__3T1Cm",containerMargins:"dashboard_containerMargins__2Dtwz"}},1807:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return K}));var n=t(29),i=t.n(n),s=t(28),c=t(51),r=t(16),o=t(0),d=t.n(o),l=t(18),j=t(438),u=t(439),b=t(440),h=t(441),m=t(442),O=t(443),f=t(1548),x=t.n(f),p=t(429),_=t(400),v=t(181),g=t(403),y=t(404),k=t(402),C=t(227),I=t(449),w=t(448),z=t(405),N=t(88),D=t(433),S=t(458),H=t(456),P=t(139),V=t.n(P),A=t(89),M=t.n(A),T=t(447),W=t(34),B=t(414),E=t.n(B),L=t(648),R=t.n(L),G=t(413),Z=t.n(G),q=t(2),F=[],J=[],Q=[],U={},X=[];function K(e){var a=Object(l.g)().id,t=Object(o.useState)(!1),n=Object(r.a)(t,2),f=n[0],P=n[1],A=Object(o.useState)({changeRoute:!1,to:""}),B=Object(r.a)(A,2),L=B[0],G=B[1],K=Object(o.useState)(!1),Y=Object(r.a)(K,2),$=Y[0],ee=Y[1],ae=Object(o.useState)(!0),te=Object(r.a)(ae,2),ne=te[0],ie=te[1];function se(){return(se=Object(c.a)(i.a.mark((function e(){var t,n,s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,Promise.all([Object(W.c)().getDashboards(),Object(W.c)().getDashboardCollection("?id=".concat(atob(a))),Object(W.c)().getUsers()]);case 3:t=e.sent,n=Object(r.a)(t,3),s=n[0],c=n[1],o=n[2],U=c.data[0],J=U.dashboardElements.map((function(e){return e.dashboard.id})),X=c.data[0].users,F=s.data,Q=o.data,ie(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){F=[],J=[],U={},P(!f),function(){se.apply(this,arguments)}()}),[]);var ce={addChart:function(e){J.push(e),P(!f)},removeChart:function(e){J=J.filter((function(a){return a!==e})),P(!f)}};function re(){return(re=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(!1),U.dashboardElements=J.map((function(e,a){return{dashboard:{id:e},order:a}})),U.users=X,t.next=5,Promise.resolve(Object(W.c)().putDashboardColecction(U,atob(a)));case 5:e.messageBox("Colec\xe7\xe3o actualizada com exito!"),G({to:"/dashboards",changeRoute:!0});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var oe=function(e,a){return Object(q.jsx)(v.a,{elevation:0,style:{border:"1px solid #c4c4c4",width:"100%",height:280,overflow:"auto"},square:!0,children:ne?Object(q.jsx)("div",{style:{width:"100%",height:280,textAlign:"center",marginTop:110},children:Object(q.jsx)(p.a,{})}):Object(q.jsxs)(k.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e,t){return Object(q.jsxs)(C.a,{onDoubleClick:function(){return ce[a](e.id)},role:"listitem",button:!0,children:[Object(q.jsx)(w.a,{primary:e.displayName}),Object(q.jsx)(I.a,{children:Object(q.jsx)(g.a,{color:a.includes("add")?"primary":"secondary",size:"small",onClick:function(){ce[a](e.id)},children:a.includes("remove")?Object(q.jsx)(E.a,{}):Object(q.jsx)(R.a,{})})})]},t)})),Object(q.jsx)(C.a,{})]})})};return L.changeRoute?Object(q.jsx)(l.a,{to:L.to}):Object(q.jsx)("div",{className:x.a.main,children:Object(q.jsxs)(D.a,{children:[Object(q.jsx)(v.a,{elevation:0,square:!0,className:x.a.sticky,children:Object(q.jsxs)("div",{className:x.a.stickyInner,children:[Object(q.jsx)(N.a,{variant:"h6",className:x.a.h6,children:"Edi\xe7\xe3o de dashboard"}),Object(q.jsx)(T.a,{color:"primary",className:x.a.fab,onClick:function(){ee(!0)},children:Object(q.jsx)(V.a,{})})]})}),Object(q.jsxs)(_.a,{container:!0,spacing:2,style:{paddingTop:"15px",paddingBottom:"25px"},children:[Object(q.jsx)(_.a,{item:!0,sm:12,children:Object(q.jsx)(z.a,{InputLabelProps:{shrink:!0},variant:"outlined",id:"name",label:"Nome",value:U.name,margin:"dense",fullWidth:!0,onChange:function(e){U.name=e.target.value}})}),Object(q.jsx)(_.a,{item:!0,sm:12,children:Object(q.jsx)(z.a,{id:"displayName",InputLabelProps:{shrink:!0},label:"Diaplay name",fullWidth:!0,margin:"dense",value:U.displayName,variant:"outlined",onChange:function(e){U.displayName=e.target.value}})}),Object(q.jsx)(_.a,{item:!0,sm:12,children:Object(q.jsx)(z.a,{id:"description",InputLabelProps:{shrink:!0},rows:4,multiline:!0,label:"Description",margin:"dense",value:U.description,variant:"outlined",fullWidth:!0,onChange:function(e){U.description=e.target.value}})}),Object(q.jsx)(_.a,{item:!0,sm:6,children:oe(F.filter((function(e){return!J.includes(e.id)})),"addChart")}),Object(q.jsx)(_.a,{item:!0,sm:6,children:oe(J.map((function(e){return F.filter((function(a){return a.id==e}))[0]})),"removeChart")}),Object(q.jsx)(_.a,{item:!0,sm:12,children:Object(q.jsx)(H.a,{onChange:function(e,a){X.push(a);var t=new Set(X);X=Array.from(t),P(!f)},getOptionLabel:function(e){return e.username},fullWidth:!0,id:"utilizadores",size:"small",options:Q,style:{minWidth:200},renderInput:function(e){return Object(q.jsx)(z.a,Object(s.a)(Object(s.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Adicione utilizadores"}))}})}),Object(q.jsx)(_.a,{item:!0,sm:12,children:Object(q.jsx)(j.a,{component:v.a,children:Object(q.jsxs)(u.a,{size:"small",children:[Object(q.jsx)(b.a,{children:Object(q.jsxs)(h.a,{children:[Object(q.jsx)(m.a,{children:"Username"}),Object(q.jsx)(m.a,{children:"Name"}),Object(q.jsx)(m.a,{children:"Email"}),Object(q.jsx)(m.a,{})]})}),Object(q.jsx)(O.a,{children:X.map((function(e,a){return Object(q.jsxs)(h.a,{children:[Object(q.jsx)(m.a,{component:"th",scope:"row",children:e.username}),Object(q.jsx)(m.a,{children:e.first_name+" "+e.last_name}),Object(q.jsx)(m.a,{children:e.email}),Object(q.jsx)(m.a,{align:"right",children:Object(q.jsx)(g.a,{onClick:function(){X=X.filter((function(e,t){return t!==a})),P(!f)},size:"small",children:Object(q.jsx)(Z.a,{})})})]},a)}))})]})})})]}),Object(q.jsx)(S.a,{open:$,autoHideDuration:5e3,onClose:function(){ee(!1)},message:"Pretende salvar estas altera\xe7\xf5es?",action:Object(q.jsxs)(d.a.Fragment,{children:[Object(q.jsx)(y.a,{color:"secondary",size:"small",onClick:function(){return re.apply(this,arguments)},children:"Salvar"}),Object(q.jsx)(g.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){ee(!1)},children:Object(q.jsx)(M.a,{fontSize:"small"})})]}),className:x.a.snackbar})]})})}},648:function(e,a,t){"use strict";var n;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=(0,((n=t(69))&&n.__esModule?n:{default:n}).default)("M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z");a.default=i}}]);