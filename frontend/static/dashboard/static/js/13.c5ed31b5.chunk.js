(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[13],{1785:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(29),i=n.n(a),r=n(51),c=n(16),o=n(0),l=n.n(o),s=n(18),d=n(458),u=n(404),b=n(403),j=n(89),f=n.n(j),h=n(510),p=n(34),m=n(2),O=[],x=null;function v(e){var t=Object(o.useState)(!0),n=Object(c.a)(t,2),a=n[0],j=n[1],v=Object(o.useState)({redirect:!1,to:""}),C=Object(c.a)(v,2),k=C[0],w=C[1],L=Object(o.useState)(!1),S=Object(c.a)(L,2),P=S[0],_=S[1];function D(){return E.apply(this,arguments)}function E(){return(E=Object(r.a)(i.a.mark((function e(){var t,n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Promise.all([Object(p.c)().getMyOrgUnits(),Object(p.c)().me()]);case 3:if(t=e.sent,n=Object(c.a)(t,2),a=n[0],!n[1].data.is_superuser){e.next=14;break}return e.next=10,Promise.resolve(Object(p.c)().getAttributeSet("?fields=id,displayName,name,uid"));case 10:r=e.sent,O=r.data,e.next=18;break;case 14:return e.next=16,Promise.resolve(Object(p.c)().getAttributeSet("?fields=id,displayName,name,uid&orgUnits__in=".concat(a.data.map((function(e){return e.id})).join(","))));case 16:o=e.sent,O=o.data;case 18:j(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(r.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve(Object(p.c)().deleteAttributeByID(x));case 3:e.messageBox("Attribute set eliminado com exito!"),D(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.messageBox("Infelizmente n\xe3o conseguimos eliminar o attribute set!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}Object(o.useEffect)(D,[]);var H={eliminar:function(e){var t=e.id;x=t,_(!0)},createForm:function(e){var t=e.id;w({to:"/forms/add/"+btoa(t),redirect:!0})},forms:function(e){},editar:function(e){var t=e.id;w({to:"/attributeSets/edit/"+btoa(t),redirect:!0})},detalhes:function(e){}};return k.redirect?Object(m.jsx)(s.a,{to:k.to}):Object(m.jsxs)("div",{style:{padding:"20px"},children:[Object(m.jsx)(h.a,{isLoading:a,addURL:"/attributeSets/add",tableName:"Attribute sets",actionHandlers:H,actions:y,headCells:g,tableData:O}),Object(m.jsx)(d.a,{open:P,autoHideDuration:5e3,onClose:function(){_(!1)},message:"Pretende eliminar este attribute set?",action:Object(m.jsxs)(l.a.Fragment,{children:[Object(m.jsx)(u.a,{color:"secondary",size:"small",onClick:function(){return M.apply(this,arguments)},children:"Eliminar"}),Object(m.jsx)(b.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){_(!1)},children:Object(m.jsx)(f.a,{fontSize:"small"})})]})})]})}var g=[{label:"ID",numeric:!1,disablePadding:!1,id:"id",editable:!1,hide:!0},{label:"UID",numeric:!1,disablePadding:!1,id:"uid",editable:!1,hide:!1},{label:"Name",id:"name",numeric:!1,disablePadding:!1,editable:!1,hide:!1},{label:"Display Name",numeric:!1,disablePadding:!1,id:"displayName",editable:!1,hide:!1}],y=[{label:"Formularios",handler:"forms"},{label:"Criar formul\xe1rio",handler:"createForm"},{label:"Eliminar",handler:"eliminar"},{label:"Editar",handler:"editar"},{label:"Detalhes",handler:"detalhes"}]},500:function(e,t,n){e.exports={sticky:"enhancedTable_sticky__31vSR"}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(16),i=n(0),r=n(403),c=n(204),o=n(450),l=n(88),s=n(1786),d=n(1788),u=n(1787),b=n.n(u),j=n(1789),f=n.n(j),h=n(1790),p=n.n(h),m=n(552),O=n(553),x=n.n(O),v=n(2);function g(e){var t=Object(i.useState)(null),n=Object(a.a)(t,2),u=n[0],j=n[1];function h(){var t=new x.a.Workbook,n=t.addWorksheet("Gest\xe3o de Servicos");return n.columns=e.colls.filter((function(e){return"k"!==e.id})).map((function(e){return e.editable?{header:e.label,key:e.id,width:25}:{header:e.label,key:e.id,width:15}})),e.tableData.map((function(t){var a={};e.colls.filter((function(e){return"k"!==e.id})).map((function(e){a[e.id]=e.id.split(".").length>1?t[e.id.split(".")[0]][e.id.split(".")[1]]:t[e.id]})),n.addRow(a)})),n.eachRow((function(e,t){e.eachCell((function(e,t){"true"===e.value&&(e.font={color:{argb:"FF008000"}}),"false"===e.value&&(e.font={color:{argb:"FFFF0000"}}),e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}))})),n.getRow(1).font={bold:!0},t}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{title:"Transferir",children:Object(v.jsx)(r.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",onClick:function(e){j(e.currentTarget)},children:Object(v.jsx)(b.a,{})})}),Object(v.jsxs)(c.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return j(null)},children:[Object(v.jsxs)(o.a,{onClick:function(){h().xlsx.writeBuffer().then((function(e){Object(m.saveAs)(new Blob([e],{type:"application/octet-stream"}),"atendimento_export_"+(new Date).getTime()+".xlsx")})),j(null)},children:[Object(v.jsx)(d.a,{children:Object(v.jsx)(f.a,{})}),Object(v.jsx)(l.a,{variant:"inherit",children:"Excel"})]}),Object(v.jsxs)(o.a,{onClick:function(){h().csv.writeBuffer().then((function(e){Object(m.saveAs)(new Blob([e],{type:"application/text"}),"atendimento_export_"+(new Date).getTime()+".csv")})),j(null)},children:[Object(v.jsx)(d.a,{children:Object(v.jsx)(p.a,{})}),Object(v.jsx)(l.a,{variant:"inherit",children:"CSV"})]})]})]})}},510:function(e,t,n){"use strict";var a=n(16),i=n(572),r=n(0),c=n(77),o=n(10),l=n(115),s=n(1791),d=n(439),u=n(443),b=n(442),j=n(441),f=n(1834),h=n(440),p=n(181),m=n(404),O=n(403),x=n(1563),v=n(435),g=n(462),y=n(434),C=n(1786),k=n(455),w=n(1610),L=n(401),S=n(577),P=n(88),_=n(402),D=n(227),E=n(554),M=n(207),H=n(1792),R=n(1794),T=n(204),A=n(450),B=n(500),N=n.n(B),F=n(601),z=n.n(F),V=n(602),q=n.n(V),I=n(603),U=n.n(I),X=n(1793),W=n.n(X),Y=n(501),G=n(2),J={root:{width:"100%"},tableWrapper:{minWidth:"700px",overflowX:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},success:{backgroundColor:l.a[600]},error:{backgroundColor:"#d32f2f"},info:{backgroundColor:"#3f51b5"},warning:{backgroundColor:s.a[700]},icon:{fontSize:20},message:{display:"flex",alignItems:"center"},highlight:{color:"#f50057",backgroundColor:Object(o.i)("#ff4081",.85)},spacer:{flex:"1 1 100%"},actions:{color:"rgba(0, 0, 0, 0.54)"},title:{flex:"0 0 auto"}},Z={mouseX:null,mouseY:null},$=null;function K(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Q(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function ee(e,t){return"desc"===e?function(e,n){return K(e,n,t)}:function(e,n){return-K(e,n,t)}}var te=[];function ne(e){var t=e.order,n=e.orderBy,a=e.onRequestSort;e.t;return Object(G.jsx)(h.a,{children:Object(G.jsx)(j.a,{children:te.filter((function(e){return!1===e.hide})).map((function(e){return Object(G.jsx)(b.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t,children:Object(G.jsx)(f.a,{active:n===e.id,direction:t,onClick:(i=e.id,function(e){a(e,i)}),children:Object(G.jsx)(C.a,{title:"order by ".concat(Boolean(e.hintText)?e.hintText:e.label),children:Object(G.jsx)(P.a,{variant:"body2",children:e.label})})})},e.id);var i}))})})}function ae(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),i=n[0],c=n[1],o=e.onRequestToogleColumn,l=Object(r.useState)(!1),s=Object(a.a)(l,2),d=s[0],u=s[1];var b=Boolean(i),j=b?"simple-popover":void 0;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(C.a,{title:"ocultar/mostrar colunas",children:Object(G.jsx)(O.a,{"aria-describedby":j,onClick:function(e){c(e.currentTarget)},children:Object(G.jsx)(W.a,{})})}),Object(G.jsx)(L.a,{id:j,open:b,anchorEl:i,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(G.jsxs)(p.a,{square:!0,children:[Object(G.jsx)(k.a,{style:{textAlign:"center",paddingTop:"10px"},children:Object(G.jsx)(P.a,{children:"Colunas"})}),Object(G.jsx)(_.a,{dense:!0,children:te.filter((function(e){return"k"!==e.id})).map((function(e,t){return Object(G.jsx)(D.a,{children:Object(G.jsx)(x.a,{control:Object(G.jsx)(w.a,{style:{padding:"5px"},checked:!e.hide,onChange:function(){return function(e){te=te.map((function(t){return t.id===e&&(t.hide=!t.hide),t})),u(!d)}(e.id)},value:t,color:"primary"}),label:e.label})},e.id)}))}),Object(G.jsx)(R.a,{}),Object(G.jsx)(m.a,{onClick:function(e){u(!d),o(e),c(null)},color:"primary",style:{width:"100%"},small:!0,children:"Apply"})]})})]})}t.a=function(e,t){var n=e.isLoading,o=void 0!==n&&n,l=Object(i.a)(e,["isLoading"]),s=Object(r.useState)(!1),f=Object(a.a)(s,2),h=f[0],m=f[1],x=Object(r.useState)("asc"),w=Object(a.a)(x,2),L=w[0],_=w[1],D=Object(r.useState)("k"),R=Object(a.a)(D,2),B=R[0],F=R[1],V=Object(r.useState)([]),I=Object(a.a)(V,2),X=I[0],W=I[1],K=Object(r.useState)(0),ie=Object(a.a)(K,2),re=ie[0],ce=(ie[1],Object(r.useState)(!0)),oe=Object(a.a)(ce,2),le=oe[0],se=(oe[1],Object(r.useState)(10)),de=Object(a.a)(se,2),ue=de[0],be=(de[1],Object(r.useState)(!1)),je=Object(a.a)(be,2),fe=je[0],he=je[1],pe=Object(r.useState)(""),me=Object(a.a)(pe,2),Oe=me[0],xe=me[1],ve=Object(r.useState)(!1),ge=Object(a.a)(ve,2),ye=ge[0],Ce=ge[1],ke=Object(r.useState)(Z),we=Object(a.a)(ke,2),Le=we[0],Se=we[1];Object(r.useEffect)((function(){l.headCells.map((function(e,t){return{i:t,hide:e.hide}})),te=l.headCells,Ce(!ye)}),[]);var Pe=ue-Math.min(ue,l.tableData.length-re*ue);function _e(e,t){if(t.id.split(".").length>1)try{return e[t.id.split(".")[0]][t.id.split(".")[1]]}catch(n){return""}return e[t.id]}return Object(G.jsxs)("div",{className:J.root,children:[Object(G.jsx)(H.a,{color:"primary",variant:"query",style:{display:h||o?"block":"none"}}),Object(G.jsxs)(p.a,{elevation:0,style:{minWidth:"700px",overflowX:"auto",backgroundColor:"transparent"},children:[Object(G.jsx)(S.a,{className:N.a.sticky,children:Object(G.jsxs)(k.a,{display:"flex",width:"100%",children:[Object(G.jsxs)(k.a,{children:[!fe&&Object(G.jsx)(P.a,{variant:"h6",style:{color:"#0070c0"},id:"tableTitle",children:l.tableName}),fe&&Object(G.jsx)(M.a,{in:fe,children:Object(G.jsxs)(v.a,{style:{paddingLeft:"15px"},children:[Object(G.jsx)(g.a,{htmlFor:"query-param",style:{paddingLeft:"17px"},children:"Procurar"}),Object(G.jsx)(y.a,{id:"query-param",value:Oe,onChange:function(e){return xe(e.target.value)},endAdornment:Object(G.jsx)(E.a,{position:"end",children:Object(G.jsx)(O.a,{onClick:function(){return he(!1)},"aria-label":"query-param",children:Object(G.jsx)(z.a,{})})})})]})})]}),Object(G.jsx)(k.a,{flexGrow:1,children:"\xa0"}),Object(G.jsxs)(k.a,{children:[Object(G.jsx)(C.a,{title:"Procurar",children:Object(G.jsx)(O.a,{onClick:function(){return he(!fe)},"aria-label":"filter list",children:Object(G.jsx)(q.a,{})})}),Object(G.jsx)(ae,{onRequestToogleColumn:function(e){Ce(!ye)}}),Object(G.jsx)(Y.a,{colls:l.headCells,tableData:l.tableData}),Boolean(l.addURL)&&Object(G.jsx)(O.a,{component:c.b,to:l.addURL,color:"secondary",children:Object(G.jsx)(U.a,{})})]})]})}),Object(G.jsx)("div",{className:J.tableWrapper,children:Object(G.jsxs)(d.a,{"aria-labelledby":"tableTitle",size:le?"small":"medium",children:[Object(G.jsx)(ne,{onRequestTriggerUpdate:function(e){m(!0),m(!1)},classes:J,numSelected:X.length,order:L,orderBy:B,onRequestSort:function(e,t){_(B===t&&"desc"===L?"asc":"desc"),F(t)},rowCount:l.tableData.length}),Object(G.jsxs)(u.a,{children:[Q(l.tableData.filter((function(e){var t=!1;return l.headCells.filter((function(e){return!1===e.hide})).map((function(n){n.id.split(".").length>1?null==e[n.id.split(".")[0]]?""==Oe.toLowerCase()&&(t=!0):e[n.id.split(".")[0]][n.id.split(".")[1]].toString().toLowerCase().includes(Oe.toLowerCase())&&(t=!0):Boolean(e[n.id])&&e[n.id].toString().toLowerCase().includes(Oe.toLowerCase())&&(t=!0)})),t})),ee(L,B)).map((function(e,t){var n,a=(n=t,-1!==X.indexOf(n)),i="enhanced-table-checkbox-".concat(t);return Object(G.jsx)(j.a,{hover:!0,role:"checkbox",onContextMenu:function(t){var n;Boolean(l.actions)&&($=e,(n=t).preventDefault(),Se({mouseX:n.clientX-2,mouseY:n.clientY-4}))},onClick:function(e){return function(e,t){var n=X.indexOf(t),a=[];-1===n?a=a.concat(X,t):0===n?a=a.concat(X.slice(1)):n===X.length-1?a=a.concat(X.slice(0,-1)):n>0&&(a=a.concat(X.slice(0,n),X.slice(n+1))),W(a)}(0,t)},"aria-checked":a,tabIndex:-1,selected:a,children:te.filter((function(e){return!1===e.hide})).map((function(t){return Object(G.jsx)(b.a,{component:"th",id:i,scope:"row",children:_e(e,t)},t.id)}))},t)})),Pe>0&&Object(G.jsx)(j.a,{style:{height:49*Pe},children:Object(G.jsx)(b.a,{colSpan:6})})]})]})})]}),Boolean(l.actionHandlers)&&Object(G.jsx)(T.a,{keepMounted:!0,open:null!==Le.mouseY,onClose:function(){Se(Z)},anchorReference:"anchorPosition",anchorPosition:null!==Le.mouseY&&null!==Le.mouseX?{top:Le.mouseY,left:Le.mouseX}:void 0,children:l.actions.map((function(e,t){return Object(G.jsx)(A.a,{onClick:function(){Se(Z),l.actionHandlers[e.handler]($)},children:e.label},t)}))})]})}},554:function(e,t,n){"use strict";var a=n(1),i=n(3),r=n(0),c=(n(7),n(4)),o=n(88),l=n(6),s=n(61),d=r.forwardRef((function(e,t){var n=e.children,l=e.classes,d=e.className,u=e.component,b=void 0===u?"div":u,j=e.disablePointerEvents,f=void 0!==j&&j,h=e.disableTypography,p=void 0!==h&&h,m=e.position,O=e.variant,x=Object(i.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),v=Object(s.b)()||{},g=O;return O&&v.variant,v&&!g&&(g=v.variant),r.createElement(s.a.Provider,{value:null},r.createElement(b,Object(a.a)({className:Object(c.a)(l.root,d,f&&l.disablePointerEvents,v.hiddenLabel&&l.hiddenLabel,"filled"===g&&l.filled,{start:l.positionStart,end:l.positionEnd}[m],"dense"===v.margin&&l.marginDense),ref:t},x),"string"!==typeof n||p?n:r.createElement(o.a,{color:"textSecondary"},n)))}));t.a=Object(l.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},577:function(e,t,n){"use strict";var a=n(1),i=n(3),r=n(9),c=n(0),o=(n(7),n(4)),l=n(6),s=c.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.component,s=void 0===l?"div":l,d=e.disableGutters,u=void 0!==d&&d,b=e.variant,j=void 0===b?"regular":b,f=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return c.createElement(s,Object(a.a)({className:Object(o.a)(n.root,n[j],r,!u&&n.gutters),ref:t},f))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(r.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(s)},601:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,((a=n(69))&&a.__esModule?a:{default:a}).default)("M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z");t.default=i},602:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,((a=n(69))&&a.__esModule?a:{default:a}).default)("M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z");t.default=i},603:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,((a=n(69))&&a.__esModule?a:{default:a}).default)("M12,14V11H10V14H7V16H10V19H12V16H15V14M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18");t.default=i}}]);