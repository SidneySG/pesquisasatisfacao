(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[37],{1803:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(146),r=a(26),i=a(29),c=a.n(i),s=a(28),o=a(51),l=a(16),u=a(0),j=a(18),b=a(455),d=a(429),m=a(404),h=a(403),O=a(433),p=a(181),x=a(88),f=a(405),g=a(400),v=a(438),y=a(439),N=a(440),S=a(443),w=a(441),A=a(442),C=a(456),T=a(413),z=a.n(T),W=a(71),k=a(62),B=a(34),q=a(2),D={},E=[];function I(e){var t=Object(j.g)().id,a=Object(u.useState)(!0),i=Object(l.a)(a,2),T=i[0],I=i[1],J=Object(u.useState)({redirect:!1,to:""}),L=Object(l.a)(J,2),P=L[0],V=L[1];function F(){return(F=Object(o.a)(c.a.mark((function e(){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,Promise.all([Object(B.c)().getAttributes(),Object(B.c)().getAttributeSet("?id=".concat(atob(t)))]);case 3:a=e.sent,n=Object(l.a)(a,2),r=n[0],i=n[1],E=r.data,(D=i.data[0]).attributesToShow=D.attributesToShow.split(","),I(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.useEffect)((function(){return F.apply(this,arguments)}),[t]),T?Object(q.jsx)(b.a,{style:{marginTop:"50vh",textAlign:"center"},children:Object(q.jsx)(d.a,{})}):P.redirect?Object(q.jsx)(j.a,{to:P.to}):Object(q.jsxs)(O.a,{children:[Object(q.jsx)("br",{}),Object(q.jsx)(x.a,{variant:"h6",children:"Attribute Set"}),Object(q.jsx)("br",{}),Object(q.jsx)(W.b,{initialValues:Object(s.a)({},D),onSubmit:function(t,a){var n=a.setSubmitting;function r(){return(r=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve(Object(B.c)().putAttributeSet(D.id,a));case 3:e.messageBox("Attribute set actualizado com exito!"),V({redirect:!0,to:"/attributeSets"}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.messageBox("Ocorreu um erro na tentativa  de actualizar o Attribute Set!"),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(e){r.apply(this,arguments)}(t),setTimeout((function(){n(!1)}),500)},validationSchema:k.d().shape({name:k.f().required("Campo obrigat\xf3rio"),shortName:k.f().required("Campo obrigat\xf3rio")}),children:function(e){var t,a=e.values,i=e.touched,c=e.errors,o=(e.dirty,e.isSubmitting,e.handleChange),l=e.handleBlur,u=(e.handleSubmit,e.handleReset,e.setFieldValue);return Object(q.jsx)(W.a,{children:Object(q.jsxs)(g.a,{container:!0,spacing:2,children:[Object(q.jsx)(g.a,{item:!0,sm:12,children:Object(q.jsx)(f.a,{type:"text",variant:"outlined",error:c.name&&i.name,helperText:c.name,onChange:o,onBlur:l,value:a.name,margin:"dense",id:"name",fullWidth:!0,label:"Name (*)"})}),Object(q.jsx)(g.a,{item:!0,sm:12,children:Object(q.jsx)(f.a,{type:"text",variant:"outlined",error:c.displayName&&i.displayName,helperText:c.displayName,onChange:o,onBlur:l,value:a.displayName,margin:"dense",id:"displayName",fullWidth:!0,label:"Display Name"})}),Object(q.jsx)(g.a,{item:!0,sm:12,children:Object(q.jsx)(f.a,{type:"text",error:c.shortName&&i.shortName,helperText:c.shortName,onChange:o,onBlur:l,variant:"outlined",value:a.shortName,margin:"dense",id:"shortName",fullWidth:!0,label:"Shortname (*)"})}),Object(q.jsx)(g.a,{item:!0,sm:12,children:Object(q.jsx)(C.a,{onChange:function(e,t){var n=new Set([].concat(Object(r.a)(a.attributes),[t]));u("attributes",Array.from(n))},fullWidth:!0,id:"attributes",size:"small",getOptionLabel:function(e){return e.displayName},options:E,style:{minWidth:200},renderInput:function(e){return Object(q.jsx)(f.a,Object(s.a)(Object(s.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Attributes"}))}})}),Object(q.jsx)(g.a,{item:!0,sm:12,style:{paddingTop:"5px"},children:Object(q.jsx)(v.a,{component:p.a,children:Object(q.jsxs)(y.a,{size:"small",children:[Object(q.jsx)(N.a,{children:Object(q.jsxs)(w.a,{children:[Object(q.jsx)(A.a,{children:"DisplayName"}),Object(q.jsx)(A.a,{children:"Name"}),Object(q.jsx)(A.a,{children:"ShortName"}),Object(q.jsx)(A.a,{})]})}),Object(q.jsx)(S.a,{children:a.attributes.map((function(e,t){return Object(q.jsxs)(w.a,{children:[Object(q.jsx)(A.a,{component:"th",scope:"row",children:e.displayName}),Object(q.jsx)(A.a,{component:"th",scope:"row",children:e.name}),Object(q.jsx)(A.a,{component:"th",scope:"row",children:e.shortName}),Object(q.jsx)(A.a,{align:"right",children:Object(q.jsx)(h.a,{onClick:function(){var e=a.attributes.filter((function(e,a){return a!==t}));u("attributes",e)},size:"small",children:Object(q.jsx)(z.a,{})})})]},t)}))})]})})}),Object(q.jsx)(g.a,{item:!0,sm:12,children:Object(q.jsx)(C.a,(t={multiple:!0,size:"small",onChange:function(e,t){var a=new Set(Object(r.a)(t.map((function(e){return e.uid}))));u("attributesToShow",Array.from(a).join(","))},fullWidth:!0,id:"attributes"},Object(n.a)(t,"size","small"),Object(n.a)(t,"getOptionLabel",(function(e){return e.displayName})),Object(n.a)(t,"options",a.attributes),Object(n.a)(t,"style",{minWidth:200}),Object(n.a)(t,"renderInput",(function(e){return Object(q.jsx)(f.a,Object(s.a)(Object(s.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Attributes to show"}))})),t))}),Object(q.jsxs)(g.a,{item:!0,sm:12,style:{paddingTop:"10px"},children:[Object(q.jsx)(m.a,{children:"Cancel"})," \xa0\xa0\xa0",Object(q.jsx)(m.a,{disableElevation:!0,type:"submit",color:"primary",variant:"contained",children:"Save"})]})]})})}})]})}}}]);