(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[41],{1819:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var n=a(28),i=a(29),r=a.n(i),c=a(51),s=a(16),l=a(0),o=a(18),d=a(433),j=a(455),u=a(88),m=a(400),h=a(405),b=a(404),p=a(438),O=a(181),x=a(439),f=a(440),g=a(441),v=a(442),y=a(443),N=a(403),S=a(456),T=a(413),C=a.n(T),w=a(71),W=a(62),k=a(34),B=a(2),E=[],_=[];function z(e){var t=Object(l.useState)(!0),a=Object(s.a)(t,2),i=a[0],T=a[1],z=Object(l.useState)({type:"TEXT"}),D=Object(s.a)(z,2),F=D[0],L=D[1],V=Object(l.useState)(""),A=Object(s.a)(V,2),J=A[0],P=A[1],R=Object(l.useState)(!1),q=Object(s.a)(R,2),G=q[0],I=q[1],K=Object(l.useState)(!1),X=Object(s.a)(K,2),H=(X[0],X[1],Object(o.g)().id),M=0;function Q(){return(Q=Object(c.a)(r.a.mark((function e(){var t,a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Boolean(H)){e.next=13;break}return e.next=3,Promise.all([Object(k.c)().getValueTypes(),Object(k.c)().getOptionSets("/".concat(atob(H)))]);case 3:return t=e.sent,a=Object(s.a)(t,2),n=a[0],i=a[1],e.next=9,n.data;case 9:E=e.sent,L(i.data),_=i.data.options,T(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=e.target.value;M&&clearTimeout(M),M=setTimeout((function(){P(t)}),700)}return Object(l.useEffect)((function(){return Q.apply(this,arguments)}),[H]),Object(B.jsxs)(B.Fragment,{children:[!i&&Object(B.jsxs)(d.a,{children:[Object(B.jsx)(j.a,{style:{paddingTop:"7px"},children:Object(B.jsx)(u.a,{variant:"h5",children:"Edit Option Set"})}),Object(B.jsx)(w.b,{initialValues:F,onSubmit:function(t,a){var n=a.setSubmitting;function i(){return(i=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.options=_,t.prev=1,t.next=4,Promise.resolve(Object(k.c)().putOptionSets(a,atob(H)));case 4:t.sent,e.messageBox("OptionSet editada com exito!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.messageBox("Ocorreu um erro na tentativa de salvar a optionSet!");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}!function(e){i.apply(this,arguments)}(t),setTimeout((function(){n(!1)}),500)},validationSchema:W.d().shape({name:W.f().required("Campo obrigat\xf3rio")}),children:function(e){var t=e.values,a=e.touched,i=e.errors,r=(e.dirty,e.isSubmitting,e.handleChange),c=e.handleBlur,s=(e.handleSubmit,e.handleReset,e.setFieldValue);return Object(B.jsxs)(w.a,{children:[" ",Object(B.jsxs)(m.a,{container:!0,style:{paddingRight:"7px"},children:[Object(B.jsx)(m.a,{item:!0,sm:12,children:Object(B.jsx)(h.a,{type:"text",variant:"outlined",error:i.name&&a.name,helperText:i.name,onChange:r,onBlur:c,value:t.name,margin:"dense",id:"name",fullWidth:!0,label:"Name (*)"})}),Object(B.jsx)(m.a,{item:!0,sm:12,children:Object(B.jsx)(h.a,{type:"text",variant:"outlined",error:i.displayName&&a.displayName,helperText:i.displayName,onChange:r,onBlur:c,value:t.displayName,margin:"dense",id:"displayName",fullWidth:!0,label:"DisplayName (*)"})}),Object(B.jsx)(m.a,{item:!0,sm:12,children:Object(B.jsx)(h.a,{type:"text",variant:"outlined",error:i.shortName&&a.shortName,helperText:i.shortName,onChange:r,onBlur:c,value:t.shortName,margin:"dense",id:"shortName",fullWidth:!0,label:"ShortName (*)"})}),Object(B.jsx)(m.a,{item:!0,sm:12,children:Object(B.jsx)(S.a,{onChange:function(e,t){s("type",t)},value:t.type,fullWidth:!0,id:"type",options:E,style:{minWidth:200},renderInput:function(e){return Object(B.jsx)(h.a,Object(n.a)(Object(n.a)({margin:"dense",variant:"outlined",fullWidth:!0},e),{},{label:"Type"}))}})}),Object(B.jsx)(m.a,{item:!0,sm:12,children:Object(B.jsxs)(j.a,{display:"flex",children:[Object(B.jsx)(j.a,{flexGrow:1,children:Object(B.jsx)(h.a,{margin:"dense",variant:"outlined",onKeyDown:U,value:J,fullWidth:!0,label:"Filtrar op\xe7\xf5es"})}),Object(B.jsx)(j.a,{style:{paddingTop:"12px",paddingLeft:"7px"},children:Object(B.jsx)(b.a,{variant:"contained",color:"secondary",onClick:function(){_.push({name:"",shortName:"",displayName:""}),I(!G)},disableElevation:!0,children:"Adicionar Op\xe7\xe3o"})})]})}),Object(B.jsx)(m.a,{item:!0,sm:12,style:{paddingTop:"5px"},children:Object(B.jsx)(p.a,{variant:"outlined",component:O.a,children:Object(B.jsxs)(x.a,{size:"small",children:[Object(B.jsx)(f.a,{children:Object(B.jsxs)(g.a,{children:[Object(B.jsx)(v.a,{children:"DisplayName"}),Object(B.jsx)(v.a,{children:"Name"}),Object(B.jsx)(v.a,{children:"ShortName"}),Object(B.jsx)(v.a,{})]})}),Object(B.jsx)(y.a,{children:_.filter((function(e){return e.name.toLowerCase().includes(J.toLowerCase())})).map((function(e,t){return Object(B.jsxs)(g.a,{children:[Object(B.jsx)(v.a,{component:"th",scope:"row",children:Object(B.jsx)(h.a,{margin:"dense",value:e.displayName,name:"display_name_".concat(t),onChange:function(e){_[t].displayName=e.target.value,I(!G)},fullWidth:!0})}),Object(B.jsx)(v.a,{children:Object(B.jsx)(h.a,{margin:"dense",value:e.name,name:"name_".concat(t),onChange:function(e){_[t].name=e.target.value,I(!G)},fullWidth:!0})}),Object(B.jsx)(v.a,{children:Object(B.jsx)(h.a,{margin:"dense",value:e.shortName,name:"short_name_".concat(t),onChange:function(e){_[t].shortName=e.target.value,I(!G)},fullWidth:!0})}),Object(B.jsx)(v.a,{align:"right",children:Object(B.jsx)(N.a,{onClick:function(){_=_.filter((function(e,a){return a!==t})),I(!G)},size:"small",children:Object(B.jsx)(C.a,{})})})]},t)}))})]})})}),Object(B.jsx)(m.a,{item:!0,sm:12,style:{paddingTop:"12px",textAlign:"right"},children:Object(B.jsx)(b.a,{disableElevation:!0,type:"submit",color:"primary",variant:"contained",children:"Salvar"})})]})]})}})]}),Object(B.jsx)("br",{})]})}}}]);