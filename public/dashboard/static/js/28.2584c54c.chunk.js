(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[28],{1550:function(e,a,t){e.exports={sidenav:"builder_sidenav__2JzUp",main:"builder_main__3B86l",container:"builder_container__2avCc",section:"builder_section__1VBjZ",listItem:"builder_listItem__K9alZ",listItemDragIndicator:"builder_listItemDragIndicator__1nIyb",listItemIcon:"builder_listItemIcon__BUS6p",item:"builder_item__s5LQH",field:"builder_field__M9V3g",fieldDragIndicator:"builder_fieldDragIndicator__1Q3_t",searchTextBox:"builder_searchTextBox__2Phl8",h6:"builder_h6__3TexY",h6Secondary:"builder_h6Secondary__1EFO6",sticky:"builder_sticky__1rJnJ",stickyInner:"builder_stickyInner__2y7Cq",fab2:"builder_fab2__3IxyT",fab:"builder_fab__2DMho",containerMargins:"builder_containerMargins__2df8B"}},1812:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return W}));var n=t(29),c=t.n(n),r=t(51),i=t(16),s=t(0),l=t(439),o=t(443),d=t(442),b=t(438),u=t(440),j=t(441),m=t(403),h=t(413),p=t.n(h),x=t(648),f=t.n(x),_=t(554),O=t(18),y=t(88),g=t(405),v=t(402),N=t(227),I=t(448),k=t(181),C=t(139),B=t.n(C),D=t(447),S=t(1626),w=t.n(S),z=t(1550),F=t.n(z),J=t(1775),T=t(34),M=t(379),P=t(2),R=[],q={displayName:""},A=[];function W(e){var a=Object(O.g)().id,t=Object(s.useState)(!1),n=Object(i.a)(t,2),h=n[0],x=n[1],C=Object(s.useState)(""),S=Object(i.a)(C,2),z=S[0],W=S[1],E=Object(s.useState)(!1),Q=Object(i.a)(E,2),U=Q[0],V=Q[1];function Z(){return(Z=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,Promise.resolve(Object(T.c)().getForms("?id=".concat(atob(a))));case 3:t=e.sent,q=t.data[0],R=t.data[0].attributeSet.attributes,x(!h);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.resolve(Object(T.c)().postRecibo({id:"".concat(atob(a)),recibo:JSON.stringify(A).toString()+""}));case 3:e.messageBox("Recibo criado com exito!"),W("/fichas"),V(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.messageBox("Ocorreu um erro na tentativa de criar o recibo!");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){return Z.apply(this,arguments)}),[]),U?Object(P.jsx)(O.a,{to:z}):Object(P.jsxs)("div",{className:F.a.container,children:[Object(P.jsxs)("div",{className:F.a.main,children:[Object(P.jsx)(k.a,{elevation:0,square:!0,className:F.a.sticky,children:Object(P.jsxs)("div",{className:F.a.stickyInner,children:[Object(P.jsxs)(y.a,{variant:"h6",className:F.a.h6,children:["Recibo: ",q.displayName]}),Object(P.jsx)(D.a,{color:"primary",variant:"extended",className:F.a.fab2,onClick:function(){A.push({displayName:"",type:"text",formula:""}),x(!h)},children:"Add text"}),"\xa0",Object(P.jsx)(D.a,{color:"primary",variant:"extended",className:F.a.fab2,onClick:function(){A.push({type:"table",formulas:[]}),x(!h)},children:"Add table"}),"\xa0",Object(P.jsx)(D.a,{color:"primary",className:F.a.fab,onClick:function(){return H.apply(this,arguments)},children:Object(P.jsx)(B.a,{})})]})}),A.map((function(e,a){return"text"==e.type?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(w.a,{onChange:function(e){A[a].text=Object(J.a)(e.getCurrentContent())},label:"Descreva o servi\xe7o aqui..."}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]}):"table"==e.type?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(M.a,{name:"tabela-".concat(a),style:{minWidth:"50%",borderBottom:"1px dotted rgba(0, 0, 0, 0.42)"},onChange:function(e){A[a].title=e.target.value},placeholder:"Designacao da tabela"}),Object(P.jsx)(b.a,{style:{marginTop:"6px"},component:k.a,children:Object(P.jsxs)(l.a,{size:"small",children:[Object(P.jsx)(u.a,{children:Object(P.jsxs)(j.a,{children:[Object(P.jsx)(d.a,{children:"DisplayName"}),Object(P.jsx)(d.a,{children:"Formula"}),Object(P.jsx)(d.a,{align:"right",children:Object(P.jsx)(m.a,{onClick:function(){A[a].formulas.push({displayName:"",formula:""}),x(!h)},size:"small",children:Object(P.jsx)(f.a,{})})})]})}),Object(P.jsx)(o.a,{children:e.formulas.map((function(e,t){return Object(P.jsxs)(j.a,{children:[Object(P.jsx)(d.a,{component:"th",scope:"row",children:Object(P.jsx)(g.a,{margin:"dense",placeholder:"Display name",value:e.displayName,name:"display_name_".concat(t),onChange:function(e){A[a].formulas[t].displayName=e.target.value,x(!h)},fullWidth:!0})}),Object(P.jsx)(d.a,{children:Object(P.jsx)(g.a,{margin:"dense",placeholder:"Formula",value:e.name,name:"name_".concat(t),InputProps:{startAdornment:Object(P.jsx)(_.a,{position:"start",children:"="})},onChange:function(e){A[a].formulas[t].formula=e.target.value,x(!h)},fullWidth:!0})}),Object(P.jsx)(d.a,{align:"right",children:Object(P.jsx)(m.a,{onClick:function(){A[a].formulas=A[a].formulas.filter((function(e,a){return a!==t})),x(!h)},size:"small",children:Object(P.jsx)(p.a,{})})})]},t)}))})]})}),Object(P.jsx)("br",{})]}):void 0}))]}),Object(P.jsx)("div",{className:F.a.sidenav,children:Object(P.jsx)(v.a,{children:R.map((function(e){return Object(P.jsx)(N.a,{disableRipple:!0,className:F.a.item,children:Object(P.jsx)(I.a,{primary:"vals.".concat(e.id),secondary:e.displayName})},e.id)}))})})]})}}}]);