(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[38],{1823:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(26),i=a(28),r=a(29),l=a.n(r),c=a(51),o=a(16),s=a(0),u=a(18),d=a(455),j=a(429),b=a(404),m=a(403),h=a(405),O=a(402),p=a(227),x=a(448),f=a(449),v=a(88),g=a(433),y=a(400),C=a(456),S=(a(50),a(414)),N=a.n(S),W=a(71),R=a(62),z=a(34),T=a(2),k=[],w=[],B=[],A=[];function I(e){var t=Object(u.g)().id,a=Object(s.useState)(!1),r=Object(o.a)(a,2),S=r[0],I=r[1],V=Object(s.useState)(!0),E=Object(o.a)(V,2),q=E[0],D=E[1],J=Object(s.useState)(""),L=Object(o.a)(J,2),P=L[0],F=L[1],G=Object(s.useState)(!1),H=Object(o.a)(G,2),K=H[0],M=H[1],Q=Object(s.useState)({validationRules:[]}),U=Object(o.a)(Q,2),X=U[0],Y=U[1];function Z(){return(Z=Object(c.a)(l.a.mark((function e(){var a,n,r,c,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,Promise.all([Object(z.c)().getOptionSets(),Object(z.c)().getTypes(),Object(z.c)().getControls(),Object(z.c)().getValidationRules(),Object(z.c)().getAttributes("/".concat(atob(t)))]);case 3:a=e.sent,n=Object(o.a)(a,5),r=n[0],c=n[1],s=n[2],u=n[3],d=n[4],Y(Object(i.a)({},d.data)),k=r.data,w=c.data,B=s.data,A=u.data,console.log(X),D(!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return Z.apply(this,arguments)}),[t]),q?Object(T.jsx)(d.a,{style:{marginTop:"50vh",textAlign:"center"},children:Object(T.jsx)(j.a,{})}):K?Object(T.jsx)(u.a,{to:P}):Object(T.jsxs)(g.a,{children:[Object(T.jsx)(v.a,{variant:"h6",children:"Edit Attribute"}),Object(T.jsx)("br",{}),Object(T.jsx)(W.b,{initialValues:X,onSubmit:function(a,n){var i=n.setSubmitting;function r(){return(r=Object(c.a)(l.a.mark((function a(n){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.resolve(Object(z.c)().putAttribute("".concat(atob(t)),n));case 3:e.messageBox("Attributo actualizado com exito!"),F("/attributes"),M(!0),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.messageBox("Ocorreu um erro na tentativa de actualizar o atributo!");case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}!function(e){r.apply(this,arguments)}(a),setTimeout((function(){i(!1)}),500)},validationSchema:R.d().shape({name:R.f().required("Campo obrigat\xf3rio"),shortName:R.f().required("Campo obrigat\xf3rio")}),children:function(e){var t=e.values,a=e.touched,r=e.errors,l=(e.dirty,e.isSubmitting,e.handleChange),c=e.handleBlur,o=(e.handleSubmit,e.handleReset,e.setFieldValue);return Object(T.jsx)(W.a,{children:Object(T.jsxs)(y.a,{container:!0,spacing:2,children:[Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(h.a,{type:"text",variant:"outlined",error:r.code&&a.code,helperText:r.code,onChange:l,onBlur:c,value:t.code,margin:"dense",id:"code",fullWidth:!0,label:"Code"})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(h.a,{type:"text",variant:"outlined",error:r.name&&a.name,helperText:r.name,onChange:l,onBlur:c,value:t.name,margin:"dense",id:"name",fullWidth:!0,label:"Name (*)"})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(h.a,{type:"text",variant:"outlined",error:r.displayName&&a.displayName,helperText:r.displayName,onChange:l,onBlur:c,value:t.displayName,margin:"dense",id:"displayName",fullWidth:!0,label:"Display Name"})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(h.a,{type:"text",error:r.shortName&&a.shortName,helperText:r.shortName,onChange:l,onBlur:c,variant:"outlined",value:t.shortName,margin:"dense",id:"shortName",fullWidth:!0,label:"Shortname (*)"})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(C.a,{value:t.optionSet,onChange:function(e,t){o("optionSet",t)},getOptionLabel:function(e){return e.displayName},fullWidth:!0,id:"optionSet",size:"small",options:k,style:{minWidth:200},renderInput:function(e){return Object(T.jsx)(h.a,Object(i.a)(Object(i.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"OptionSet (*)"}))}})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(C.a,{value:t.type,onChange:function(e,t){o("type",t)},fullWidth:!0,id:"type",size:"small",options:w,style:{minWidth:200},renderInput:function(e){return Object(T.jsx)(h.a,Object(i.a)(Object(i.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Type (*)"}))}})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(C.a,{value:t.control,onChange:function(e,t){o("control",t)},fullWidth:!0,id:"control",size:"small",options:B,style:{minWidth:200},renderInput:function(e){return Object(T.jsx)(h.a,Object(i.a)(Object(i.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Control"}))}})}),Object(T.jsx)(y.a,{item:!0,sm:12,children:Object(T.jsx)(C.a,{onChange:function(e,a){o("validationRules",[].concat(Object(n.a)(t.validationRules),[a])),I(!S)},fullWidth:!0,id:"validationRule",size:"small",getOptionLabel:function(e){return e.displayName},options:A,style:{minWidth:200},renderInput:function(e){return Object(T.jsx)(h.a,Object(i.a)(Object(i.a)({variant:"outlined",margin:"dense",fullWidth:!0},e),{},{label:"Validation Rules"}))}})}),Object(T.jsx)(y.a,{item:!0,sm:12,style:{height:280,overflow:"auto"},children:Object(T.jsxs)(O.a,{dense:!0,component:"div",role:"list",children:[t.validationRules.map((function(e,a){return Object(T.jsxs)(p.a,{onDoubleClick:function(e){o("validationRules",Object(n.a)(t.validationRules.filter((function(e,t){return t!==a}))))},role:"listitem",button:!0,children:[Object(T.jsx)(x.a,{primary:e.displayName}),Object(T.jsx)(f.a,{children:Object(T.jsx)(m.a,{color:"secondary",size:"small",onClick:function(e){o("validationRules",Object(n.a)(t.validationRules.filter((function(e,t){return t!==a}))))},children:Object(T.jsx)(N.a,{})})})]},a)})),Object(T.jsx)(p.a,{})]})}),Object(T.jsxs)(y.a,{item:!0,sm:12,style:{paddingTop:"10px",textAlign:"right"},children:[Object(T.jsx)(b.a,{children:"Cancel"})," \xa0\xa0\xa0",Object(T.jsx)(b.a,{disableElevation:!0,type:"submit",color:"primary",variant:"contained",children:"Save"})]})]})})}})]})}}}]);