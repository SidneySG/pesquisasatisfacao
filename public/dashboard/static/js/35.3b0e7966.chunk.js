(this["webpackJsonpfrontend.atendimento.co.mz"]=this["webpackJsonpfrontend.atendimento.co.mz"]||[]).push([[35],{1825:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return B}));var n=i(29),r=i.n(n),a=i(51),s=i(16),c=i(0),l=i(433),o=i(88),d=i(400),u=i(405),j=i(404),m=i(181),b=i(402),f=i(227),p=i(448),h=i(449),x=i(403),O=i(648),v=i.n(O),g=i(414),y=i.n(g),w=i(71),C=i(62),P=i(34),S=i(2),_=[],k=[],W=[],U=[],q=[],z=[];function B(e){var t=e.messageBox,i=Object(c.useState)(!1),n=Object(s.a)(i,2),m=n[0],b=n[1],f=Object(c.useState)({}),p=Object(s.a)(f,2),h=p[0],x=p[1];function O(){return(O=Object(a.a)(r.a.mark((function e(){var t,i,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(P.c)().getPermissions(),Object(P.c)().getOrganisationUnits(),Object(P.c)().getGroups()]);case 2:t=e.sent,i=Object(s.a)(t,3),n=i[0],a=i[1],c=i[2],_=n.data,W=c.data,k=a.data,b(!m);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),Object(S.jsx)("div",{style:{backgroundColor:"#eee"},children:Object(S.jsxs)(l.a,{children:[Object(S.jsx)("br",{}),Object(S.jsx)(o.a,{gutterBottom:!0,variant:"h6",children:"Create User"}),Object(S.jsx)(w.b,{initialValues:h,onSubmit:function(e,i){var n=i.setSubmitting;function s(){return(s=Object(a.a)(r.a.mark((function e(i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.groups=q.map((function(e){return{id:e}})),i.orgUnits=z.map((function(e){return{id:e}})),i.user_permissions=U.map((function(e){return{id:e}})),delete i.confirmpassowd,e.next=6,Promise.resolve(Object(P.c)().postUser(i));case 6:t("Utilizador criado com exito!"),x({});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){s.apply(this,arguments)}(e),setTimeout((function(){n(!1)}),500)},validationSchema:C.d().shape({email:C.f().required("Campo obrigat\xf3rio"),username:C.f().required("Campo obrigat\xf3rio"),first_name:C.f().required("Campo obrigat\xf3rio"),last_name:C.f().required("Campo obrigat\xf3rio"),password:C.f().required("Campo obrigat\xf3rio").min(6),confirmpassowd:C.f().required("Campo obrigat\xf3rio").oneOf([C.e("password"),null],"As senhas deve ser identica")}),children:function(e){var t=e.values,i=e.touched,n=e.errors,r=(e.dirty,e.isSubmitting,e.handleChange),a=e.handleBlur;e.handleSubmit,e.handleReset,e.setFieldValue;return Object(S.jsx)(w.a,{children:Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"text",variant:"outlined",error:n.first_name&&i.first_name,helperText:n.first_name,onChange:r,onBlur:a,value:t.first_name,margin:"dense",id:"first_name",fullWidth:!0,label:"First name (*)"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"text",variant:"outlined",error:n.last_name&&i.last_name,helperText:n.last_name,onChange:r,onBlur:a,value:t.last_name,margin:"dense",id:"last_name",fullWidth:!0,label:"Last name (*)"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"text",variant:"outlined",error:n.email&&i.email,helperText:n.email,onChange:r,onBlur:a,value:t.email,margin:"dense",id:"email",fullWidth:!0,label:"Email"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"text",error:n.username&&i.username,helperText:n.username,onChange:r,onBlur:a,variant:"outlined",value:t.username,margin:"dense",id:"username",fullWidth:!0,label:"Username (*)"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"password",error:n.password&&i.password,helperText:n.password,onChange:r,onBlur:a,variant:"outlined",value:t.password,margin:"dense",id:"password",fullWidth:!0,label:"Password"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(u.a,{type:"text",error:n.confirmpassowd&&i.confirmpassowd,helperText:n.confirmpassowd,onChange:r,onBlur:a,variant:"outlined",value:t.confirmpassowd,margin:"dense",id:"confirmpassowd",fullWidth:!0,label:"Confirm password (*)"})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(F,{})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(A,{})}),Object(S.jsx)(d.a,{item:!0,sm:12,children:Object(S.jsx)(G,{})}),Object(S.jsxs)(d.a,{item:!0,sm:12,style:{paddingTop:"10px",textAlign:"right"},children:[Object(S.jsx)(j.a,{children:"Cancel"})," \xa0\xa0\xa0",Object(S.jsx)(j.a,{disableElevation:!0,type:"submit",color:"primary",variant:"contained",children:"Save"})]})]})})}})]})})}function A(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),i=t[0],n=t[1],r={addPermission:function(e){U.push(e),n(!i)},removePermission:function(e){U=U.filter((function(t){return t!==e})),n(!i)}},a=function(e,t){return Object(S.jsx)(m.a,{elevation:0,style:{border:"1px solid #c4c4c4",width:"100%",height:280,overflow:"auto"},square:!0,children:Object(S.jsxs)(b.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e,i){return Object(S.jsxs)(f.a,{onDoubleClick:function(){return r[t](e.id)},role:"listitem",button:!0,children:[Object(S.jsx)(p.a,{primary:e.name}),Object(S.jsx)(h.a,{children:t.includes("add")?Object(S.jsx)(x.a,{color:"primary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(v.a,{})}):Object(S.jsx)(x.a,{color:"secondary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(y.a,{})})})]},i)})),Object(S.jsx)(f.a,{})]})})};return Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterAllPermissions",margin:"dense",id:"filterAllPermissions",fullWidth:!0,label:"Filter permissions"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterSelectedPermissions",margin:"dense",id:"filterSelectedPermissions",fullWidth:!0,label:"Filter permissions"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(_.filter((function(e){return!U.includes(e.id)})),"addPermission")}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(U.map((function(e){return _.filter((function(t){return t.id==e}))[0]})),"removePermission")})]})}function F(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),i=t[0],n=t[1],r={addGroup:function(e){q.push(e),n(!i)},removeGroup:function(e){q=q.filter((function(t){return t!==e})),n(!i)}},a=function(e,t){return Object(S.jsx)(m.a,{elevation:0,style:{border:"1px solid #c4c4c4",width:"100%",height:280,overflow:"auto"},square:!0,children:Object(S.jsxs)(b.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e,i){return Object(S.jsxs)(f.a,{onDoubleClick:function(){return r[t](e.id)},role:"listitem",button:!0,children:[Object(S.jsx)(p.a,{primary:e.name}),Object(S.jsx)(h.a,{children:t.includes("add")?Object(S.jsx)(x.a,{color:"primary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(v.a,{})}):Object(S.jsx)(x.a,{color:"secondary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(y.a,{})})})]},i)})),Object(S.jsx)(f.a,{})]})})};return Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterAllGroups",margin:"dense",id:"filterAllGroups",fullWidth:!0,label:"Filter groups"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterSelectedPermissions",margin:"dense",id:"filterSelectedGroups",fullWidth:!0,label:"Filter groups"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(W.filter((function(e){return!q.includes(e.id)})),"addGroup")}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(q.map((function(e){return W.filter((function(t){return t.id==e}))[0]})),"removeGroup")})]})}function G(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),i=t[0],n=t[1],r={addOrgUnit:function(e){z.push(e),n(!i)},removeOrgUnit:function(e){z=z.filter((function(t){return t!==e})),n(!i)}},a=function(e,t){return Object(S.jsx)(m.a,{elevation:0,style:{border:"1px solid #c4c4c4",width:"100%",height:280,overflow:"auto"},square:!0,children:Object(S.jsxs)(b.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e,i){return Object(S.jsxs)(f.a,{onDoubleClick:function(){return r[t](e.id)},role:"listitem",button:!0,children:[Object(S.jsx)(p.a,{primary:e.name}),Object(S.jsx)(h.a,{children:t.includes("add")?Object(S.jsx)(x.a,{color:"primary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(v.a,{})}):Object(S.jsx)(x.a,{color:"secondary",size:"small",onClick:function(){r[t](e.id)},children:Object(S.jsx)(y.a,{})})})]},i)})),Object(S.jsx)(f.a,{})]})})};return Object(S.jsxs)(d.a,{container:!0,spacing:2,children:[Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterAllPermissions",margin:"dense",id:"filterAllPermissions",fullWidth:!0,label:"Filter orgunit"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:Object(S.jsx)(u.a,{disabled:!0,type:"text",variant:"outlined",name:"filterSelectedPermissions",margin:"dense",id:"filterSelectedPermissions",fullWidth:!0,label:"Filter orgunit"})}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(k.filter((function(e){return!z.includes(e.id)})),"addOrgUnit")}),Object(S.jsx)(d.a,{item:!0,sm:6,children:a(z.map((function(e){return k.filter((function(t){return t.id==e}))[0]})),"removeOrgUnit")})]})}},648:function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,((n=i(69))&&n.__esModule?n:{default:n}).default)("M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z");t.default=r}}]);